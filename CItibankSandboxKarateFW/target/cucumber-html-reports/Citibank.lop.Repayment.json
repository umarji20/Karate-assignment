[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('classpath:reusable.feature')","result":{"duration":573739200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def randomString =","result":{"duration":15638800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":26265500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def now =","result":{"duration":3838600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":20047700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"def randomUUID =","result":{"duration":6133100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":395700800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"def getDate =","result":{"duration":5900200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":40481000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":3369600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":3137400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":3379500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":3685500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":4915100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":5682900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":3969500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}}]},{"line":7,"name":"Upcomming next Payment details","description":"","id":"upcomming-next-payment-details","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('classpath:Citibank\/lop\/CardAuthorization.feature')","result":{"duration":2255482500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"Citibank\/lop\/CardAuthorization.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":8},{"name":"call read('classpath:reusable.feature')","result":{"duration":28910600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":5},{"name":"def randomString =","result":{"duration":2413500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1702900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":210200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":2243200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":226500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1487600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":198600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":1386000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":260900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":191600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":773600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":308400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":186200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":142700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":141400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def CardAuthRequest = read('classpath:Citibank\/lop\/CardAuthorizationRequest.json')","result":{"duration":7068200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb'","result":{"duration":3384100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":11},{"name":"header Authorization = 'Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez'","result":{"duration":4774600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header Content-Type = 'application\/json'","result":{"duration":2465600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"header Accept = 'application\/json'","result":{"duration":163800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"header uuid = randomString(20)","result":{"duration":11208500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":2658300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"request CardAuthRequest","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"method post","result":{"duration":2162828500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":18,"doc_string":{"content_type":"","value":"18:32:58.446 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez\n1 > Connection: Keep-Alive\n1 > Content-Length: 157\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 039504---513921-2363\n{\"grant_type\":\"card_authorization\",\"lastFourDigitsCardNumber\":\"8653\",\"citiCardHolderPhoneNumber\":\"6590020056\",\"merchantCustomerReferenceId\":\"CB072000128065\"}\n\n18:32:59.749 response time in milliseconds: 1299.24\n1 < 403\n1 < Access-Control-Allow-Headers: ,Content-Type,sid,CCPToken,CFIToken,countryCode,businessCode,channelId,uuid,client_id,environmentId\n1 < Access-Control-Allow-Methods: GET,PUT,POST,DELETE,HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: APIm-Debug-Trans-Id, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-Global-Transaction-ID,sid,SessionId,CCPToken,CFIToken\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 991fbbf5-e8c2-4c52-bddd-f0fd21d68699\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: close\n1 < Content-Length: 210\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:00 GMT\n1 < Expires: -1\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:00 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 039504---513921-2363\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n1 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n1 < X-Global-Transaction-ID: 2b7692085f241683b3cc738d\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < X-Vcap-Request-Id: 214e91dc-291b-4a3d-6861-db07a33b8753\n{\"type\":\"error\",\"code\":\"mfaRequired\",\"details\":\"MFA is required\",\"moreInfo\":{\"mfaType\":\"otp\",\"controlFlowId\":\"58186008660711316726110805632426\",\"status\":\"generated\",\"mfaResponse\":{\"otpDeliveryOption\":[\"SMS\"]}}}","line":18}},{"name":"status 403","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":19},{"name":"print response","result":{"duration":697300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"18:32:59.752 [print] {\n  \"code\": \"mfaRequired\",\n  \"details\": \"MFA is required\",\n  \"type\": \"error\",\n  \"moreInfo\": {\n    \"controlFlowId\": \"58186008660711316726110805632426\",\n    \"mfaType\": \"otp\",\n    \"mfaResponse\": {\n      \"otpDeliveryOption\": [\n        \"SMS\"\n      ]\n    },\n    \"status\": \"generated\"\n  }\n}","line":20}},{"name":"def ControlflowId1 = response.moreInfo.controlFlowId","result":{"duration":8011100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match ControlflowId1 == '#present'","result":{"duration":4919100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"print ControlflowId1","result":{"duration":351200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"18:32:59.766 [print] 58186008660711316726110805632426","line":23}},{"name":"print '*********ControlFlowIdGenerated*********'","result":{"duration":3447500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24,"doc_string":{"content_type":"","value":"18:32:59.770 [print] *********ControlFlowIdGenerated*********","line":24}},{"name":"call read('classpath:Citibank\/lop\/CardAuthorizationAccessToken.feature')","result":{"duration":2787500000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"Citibank\/lop\/CardAuthorizationAccessToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"call read('classpath:reusable.feature')","result":{"duration":24727200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":5},{"name":"def randomString =","result":{"duration":4034900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":2196200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":198700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1570400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":172600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1445500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":188500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":2087200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":181300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":173500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":210100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":163000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":157600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":137800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":127000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"call read('classpath:Citibank\/lop\/CardAuthorization.feature')","result":{"duration":944519700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"Citibank\/lop\/CardAuthorization.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":9},{"name":"call read('classpath:reusable.feature')","result":{"duration":36636900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":5},{"name":"def randomString =","result":{"duration":2812800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":3804100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":296800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1897400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":230500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1198300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":1068700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":155000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":115700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":90300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":90600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":87500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":88400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":88200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def CardAuthRequest = read('classpath:Citibank\/lop\/CardAuthorizationRequest.json')","result":{"duration":1555300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb'","result":{"duration":164900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":11},{"name":"header Authorization = 'Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez'","result":{"duration":115100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header Content-Type = 'application\/json'","result":{"duration":147500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"header Accept = 'application\/json'","result":{"duration":627400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"header uuid = randomString(20)","result":{"duration":1290200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":178400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":16},{"name":"request CardAuthRequest","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":891848300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18,"doc_string":{"content_type":"","value":"18:32:59.864 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez\n1 > Connection: Keep-Alive\n1 > Content-Length: 157\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 4-44954-0405265117-6\n{\"grant_type\":\"card_authorization\",\"lastFourDigitsCardNumber\":\"8653\",\"citiCardHolderPhoneNumber\":\"6590020056\",\"merchantCustomerReferenceId\":\"CB072000128065\"}\n\n18:33:00.753 response time in milliseconds: 886.56\n1 < 403\n1 < Access-Control-Allow-Headers: ,Content-Type,sid,CCPToken,CFIToken,countryCode,businessCode,channelId,uuid,client_id,environmentId\n1 < Access-Control-Allow-Methods: GET,PUT,POST,DELETE,HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: APIm-Debug-Trans-Id, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-Global-Transaction-ID,sid,SessionId,CCPToken,CFIToken\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 365cdaec-aa70-4a67-82d8-49d10323bee3\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: close\n1 < Content-Length: 210\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:01 GMT\n1 < Expires: -1\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:01 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 4-44954-0405265117-6\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n1 < X-Global-Transaction-ID: 6e68aa425f241684dcce661f\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < X-Vcap-Request-Id: 21cfcabd-4ba3-486c-575d-a310e4ccc5e3\n{\"type\":\"error\",\"code\":\"mfaRequired\",\"details\":\"MFA is required\",\"moreInfo\":{\"mfaType\":\"otp\",\"controlFlowId\":\"27023492170866194426799615834875\",\"status\":\"generated\",\"mfaResponse\":{\"otpDeliveryOption\":[\"SMS\"]}}}","line":18}},{"name":"status 403","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"print response","result":{"duration":520700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20,"doc_string":{"content_type":"","value":"18:33:00.754 [print] {\n  \"code\": \"mfaRequired\",\n  \"details\": \"MFA is required\",\n  \"type\": \"error\",\n  \"moreInfo\": {\n    \"controlFlowId\": \"27023492170866194426799615834875\",\n    \"mfaType\": \"otp\",\n    \"mfaResponse\": {\n      \"otpDeliveryOption\": [\n        \"SMS\"\n      ]\n    },\n    \"status\": \"generated\"\n  }\n}","line":20}},{"name":"def ControlflowId1 = response.moreInfo.controlFlowId","result":{"duration":835500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21},{"name":"match ControlflowId1 == '#present'","result":{"duration":215000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22},{"name":"print ControlflowId1","result":{"duration":248800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23,"doc_string":{"content_type":"","value":"18:33:00.756 [print] 27023492170866194426799615834875","line":23}},{"name":"print '*********ControlFlowIdGenerated*********'","result":{"duration":455900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":24,"doc_string":{"content_type":"","value":"18:33:00.756 [print] *********ControlFlowIdGenerated*********","line":24}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/token\/sg\/gcb'","result":{"duration":2580800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":10},{"name":"header Authorization = 'Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez'","result":{"duration":251200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":2163900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header Accept = 'application\/json'","result":{"duration":173500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"header uuid = randomString(20)","result":{"duration":1320200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":172700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"form field grant_type = 'card_authorization'","result":{"duration":2293900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"form field controlFlowId = ControlflowId1","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"form field linkageConfirmationCode = '987654'","result":{"duration":2235900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"form field scope = 'lop_booking'","result":{"duration":2296200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"method post","result":{"duration":1769763900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":20,"doc_string":{"content_type":"","value":"18:33:00.774 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/token\/sg\/gcb\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez\n1 > Connection: Keep-Alive\n1 > Content-Length: 125\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 352-0623289938910597\ngrant_type=card_authorization&controlFlowId=27023492170866194426799615834875&linkageConfirmationCode=987654&scope=lop_booking\n\n18:33:02.540 response time in milliseconds: 1762.97\n1 < 200\n1 < Accept: application\/json\n1 < Access-Control-Allow-Methods: POST\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: APIm-Debug-Trans-Id, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-Global-Transaction-ID\n1 < Akamai-Origin-Hop: 1\n1 < Cache-Control: no-cache, max-age=0\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Cookie: CITI_SITE=gtdc\n1 < Date: Fri, 31 Jul 2020 13:03:03 GMT\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:03 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < X-Akamai-True-Client-IP: 49.207.197.157\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-DataStream-Session-Id: 22f17934-5f241685-149022f8\n1 < X-Forwarded-For: 49.207.197.157\n1 < X-Global-Transaction-ID: 98b6a3705f241686ea7fc97f\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < cardIdHeader: 44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\n1 < cardReferenceNumberHeader: 37344b5144564669667\n1 < citiUUID: \n1 < client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < client_secret: Y8yP3bN7gS3lQ0aC3wE0qY3oC4gU0kK0sI1uI5hF6wF6qL4kA3\n1 < customerIdHeader: 6f4442616a48476f646576436c2f5a307949365a357465536f726866412f77393263316d387132506c416f3d\n1 < dmz-global-txn-id: 98b6a3705f241686ea7fc97f\n1 < mfaCode: Lwm%2FctKxb2EC01wY1CyKGn0Xa51E2GLi47dRIppFBw8Oi76OJVU5Ryw0YrO5bzZyZyWOHcM6ictzh3GbB0VYeg%3D%3D\n1 < uuid: 352-0623289938910597\n{\"token_type\":\"Bearer\",\"access_token\":\"AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\",\"expires_in\":2678400,\"consented_on\":1596200582,\"scope\":\"lop_booking\",\"refresh_token\":\"AALHOuHMKPKhdmPNLOGaYGMF7TGJCQ2L9w4xh6BR6u7tQegRpoMoB_tHABGR5JQRS5r_YzU15fJ4-LtAwZ4zpo93a34zhvbBC0QTbF07uuhaO0Iit9Y5ve-qD6jdXAD5q9FGqEWlX1GIg_PbfrYziVHf3hmftA7udRIyPDAxXKWpXcPH0vnTzECV-GB6wDTtSlA8e72z--cYMCd98dqojKl81ksEf23CFbUXuMe_fSyihA\",\"refresh_token_expires_in\":2682000,\"cardId\":\"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\"customerId\":\"6f4442616a48476f646576436c2f5a307949365a357465536f726866412f77393263316d387132506c416f3d\",\"cardReferenceNumber\":\"37344b5144564669667\"}","line":20}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":21},{"name":"print response","result":{"duration":645500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22,"doc_string":{"content_type":"","value":"18:33:02.541 [print] {\n  \"access_token\": \"AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\",\n  \"refresh_token_expires_in\": 2682000,\n  \"refresh_token\": \"AALHOuHMKPKhdmPNLOGaYGMF7TGJCQ2L9w4xh6BR6u7tQegRpoMoB_tHABGR5JQRS5r_YzU15fJ4-LtAwZ4zpo93a34zhvbBC0QTbF07uuhaO0Iit9Y5ve-qD6jdXAD5q9FGqEWlX1GIg_PbfrYziVHf3hmftA7udRIyPDAxXKWpXcPH0vnTzECV-GB6wDTtSlA8e72z--cYMCd98dqojKl81ksEf23CFbUXuMe_fSyihA\",\n  \"scope\": \"lop_booking\",\n  \"cardId\": \"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\n  \"consented_on\": 1596200582,\n  \"customerId\": \"6f4442616a48476f646576436c2f5a307949365a357465536f726866412f77393263316d387132506c416f3d\",\n  \"cardReferenceNumber\": \"37344b5144564669667\",\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 2678400\n}","line":22}},{"name":"match response.token_type == '#string'","result":{"duration":3423500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"match response.access_token == '#string'","result":{"duration":415700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"def tokenType = response.token_type","result":{"duration":3664200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"def accessToken = response.access_token","result":{"duration":2389900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"def access_token = tokenType+' '+accessToken","result":{"duration":3239800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27},{"name":"print access_token","result":{"duration":262400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28,"doc_string":{"content_type":"","value":"18:33:02.556 [print] Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g","line":28}},{"name":"print '*********AccessTokenGenerated*********'","result":{"duration":2501500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":29,"doc_string":{"content_type":"","value":"18:33:02.558 [print] *********AccessTokenGenerated*********","line":29}},{"name":"call read('classpath:Citibank\/lop\/Loan_Eligibility.feature')","result":{"duration":1333030700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"Citibank\/lop\/Loan_Eligibility.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":10},{"name":"call read('classpath:reusable.feature')","result":{"duration":33524400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":3648800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":2489600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":230400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":3019900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":206600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":4235200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":187800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":5505100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":429500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":135100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":137100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":167200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":121000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":110100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":123900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/eligibility'","result":{"duration":2497700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":10},{"name":"header Authorization = access_token","result":{"duration":435500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header uuid = randomString(20)","result":{"duration":1437300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header Accept = 'application\/json'","result":{"duration":163800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":106700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"method get","result":{"duration":1241799600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":15,"doc_string":{"content_type":"","value":"18:33:02.610 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/eligibility\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 56-7176-48880943-6-7\n\n18:33:03.849 response time in milliseconds: 1237.22\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 085ef83d-2680-4bed-b25c-c0146094d26d\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Length: 394\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:04 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:04 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 56-7176-48880943-6-7\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241687d43822f1\n1 < X-Vcap-Request-Id: 9129a594-d1bd-455c-6c54-e87abb8800d4\n1 < mfaCode: hqRY6TFN89AFIorIQ0QWN1%2F1VQtMpLUM6a4U4kZm2Xp%2BPReleRVbTMHpkmw40S4OD9dKZ8CsoDLiYZy0OzTqfpw%2B63eSdVYxzp%2F9Dj08Oeb%2FkVd4LU7APvmDsVH4M143Du3pbHohSEWR2Xkvwlcds%2Fc%2BvlaYRILfOk19%2FEOg3Tvw0HPCXI7hTa6iLDaKjYNHdc7DAnQWBjmZT7gi4%2Fjdq6wMl5fO1CK48wLFjgr%2FJDlBJTCQ%2FfC8j5cN5TvYfNXlO7uTBF7N1SKPObVZd9UNG3LLvt%2Bw2FYT%2Bvz%2B0QdFrnN0P4m5bT4oCDrdOx4xMPtOvK6g11YVEZzuCN416hBo%2FJtJubac8y8dAw6kdrrIzG0%2BrfJ5FdTP15z3FqrHrrEeptg3r2A6542hUVBVWEIF%2B8vx7LxU2tj77ZWbZor7I9c%3D\n{\"loanEligibilityDetails\":[{\"accountId\":\"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\"displayAccountNumber\":\"4765\",\"lopSupportedAccountGroup\":\"CREDIT_CARD\",\"maximumEligibleLoanAmount\":500000.0,\"minimumEligibleLoanAmount\":50000.0,\"offerIndicator\":\"RATE_BASED\",\"interestCalculationMethod\":\"REDUCING_BALANCE_METHOD\",\"lopCategory\":\"LOAN_OVER_PHONE\"}]}","line":15}},{"name":"status 200","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"print response","result":{"duration":443100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17,"doc_string":{"content_type":"","value":"18:33:03.850 [print] {\n  \"loanEligibilityDetails\": [\n    {\n      \"minimumEligibleLoanAmount\": 50000.0,\n      \"accountId\": \"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\n      \"interestCalculationMethod\": \"REDUCING_BALANCE_METHOD\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"lopSupportedAccountGroup\": \"CREDIT_CARD\",\n      \"displayAccountNumber\": \"4765\",\n      \"lopCategory\": \"LOAN_OVER_PHONE\",\n      \"maximumEligibleLoanAmount\": 500000.0\n    }\n  ]\n}","line":17}},{"name":"match response.loanEligibilityDetails[0].displayAccountNumber == '#string'","result":{"duration":1434800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"match response.loanEligibilityDetails[0].accountId == '#present'","result":{"duration":477900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"match response.loanEligibilityDetails[0].maximumEligibleLoanAmount == 500000","result":{"duration":5080900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"match response.loanEligibilityDetails[0].minimumEligibleLoanAmount == 50000","result":{"duration":4583100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"def displayAccountNumber = response.loanEligibilityDetails[0].displayAccountNumber","result":{"duration":12142100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"def accountId = response.loanEligibilityDetails[0].accountId","result":{"duration":6408500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"def maximumEligibleLoanAmount = response.loanEligibilityDetails[0].maximumEligibleLoanAmount","result":{"duration":3882800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"def minimumEligibleLoanAmount = response.loanEligibilityDetails[0].minimumEligibleLoanAmount","result":{"duration":3421400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"print displayAccountNumber","result":{"duration":298400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26,"doc_string":{"content_type":"","value":"18:33:03.889 [print] 4765","line":26}},{"name":"print accountId","result":{"duration":182700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27,"doc_string":{"content_type":"","value":"18:33:03.889 [print] 44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d","line":27}},{"name":"print maximumEligibleLoanAmount","result":{"duration":127600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28,"doc_string":{"content_type":"","value":"18:33:03.889 [print] 500000.0","line":28}},{"name":"print minimumEligibleLoanAmount","result":{"duration":114800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":29,"doc_string":{"content_type":"","value":"18:33:03.889 [print] 50000.0","line":29}},{"name":"print '********* Checked Loan Eligibility And AccountId Generated *********'","result":{"duration":2029300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30,"doc_string":{"content_type":"","value":"18:33:03.891 [print] ********* Checked Loan Eligibility And AccountId Generated *********","line":30}},{"name":"call read('classpath:Citibank\/lop\/Check_EPP_Plan.feature')","result":{"duration":849208700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"Citibank\/lop\/Check_EPP_Plan.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":11},{"name":"call read('classpath:reusable.feature')","result":{"duration":24836900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":2209900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1137500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":154600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1078100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":153000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":2171900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":923300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":1546300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":228500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":121600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":102500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":433700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":139200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":171100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":106500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/'+accountId+'\/transactions\/eligibility\/easyPaymentPlan?eligbleLoanAmount=50000'","result":{"duration":4331900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":11},{"name":"header Authorization = access_token","result":{"duration":231500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header uuid = randomString(20)","result":{"duration":1379100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"header Accept = 'application\/json'","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":100800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"method get","result":{"duration":784898100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":16,"doc_string":{"content_type":"","value":"18:33:03.944 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/transactions\/eligibility\/easyPaymentPlan?eligbleLoanAmount=50000\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 6317--13608-54877026\n\n18:33:04.725 response time in milliseconds: 781.32\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 502d2a47-1190-4267-ae7e-21eb0c13dd79\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:05 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:05 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 6317--13608-54877026\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f2416889c5634cd\n1 < X-Vcap-Request-Id: e422ee75-c72e-42ce-4225-3085a1cd0f1b\n1 < mfaCode: zB5bAzxCuOjRLjsIVEu3v41DkRfOpvSPk3grzUeURDg9rbwb2XTL1cyaXPS8A6d5NJYBMdxnQ1Fcby3WHPDkZMGXbpjxIPwbi9ZSfSCAeURKZ2Bqjn6LXoDvq6DMaO83%2BJfJLxcww3Ky%2BfpvZzRy%2FAuRyaaTut6sY5hzO1iF4waoLghhH6eA6kvhrQTCY7dJADfGdxmVfDE6K4pdLG4m%2BDLBey0FumXsE58wj8kOWwFUZj3p1zlektVSfrxE312aZQ8cr0NT01GEqK63DsvK6ofS5PIP7XyXEhWMBVtvtqv1D7ecXxDgcRAjZ%2FMgaCU0EB2xKV%2FWuT7MwvDGOxoVOWX3jNewfX4aHERlV68as%2B8IF%2BdHRek%2BF%2BZhUcMo%2B4%2BaWDRHxJuT60xzN3dmUgZAJi%2B9CrDU18q83Kb%2FjjZmLes%3D\n{\"easyPaymentPlan\":[{\"tenor\":\"3\",\"effectiveInterestRate\":12.99,\"annualPercentageRate\":13.67,\"installmentAmount\":16666.67,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"},{\"tenor\":\"6\",\"effectiveInterestRate\":25.99,\"annualPercentageRate\":26.67,\"installmentAmount\":8333.34,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"},{\"tenor\":\"12\",\"effectiveInterestRate\":42.99,\"annualPercentageRate\":43.67,\"installmentAmount\":4166.67,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"},{\"tenor\":\"24\",\"effectiveInterestRate\":72.99,\"annualPercentageRate\":73.67,\"installmentAmount\":2083.34,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"}]}","line":16}},{"name":"status 200","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":17},{"name":"print response","result":{"duration":1282000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18,"doc_string":{"content_type":"","value":"18:33:04.727 [print] {\n  \"easyPaymentPlan\": [\n    {\n      \"tenor\": \"3\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 13.67,\n      \"installmentAmount\": 16666.67,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 12.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    },\n    {\n      \"tenor\": \"6\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 26.67,\n      \"installmentAmount\": 8333.34,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 25.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    },\n    {\n      \"tenor\": \"12\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 43.67,\n      \"installmentAmount\": 4166.67,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 42.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    },\n    {\n      \"tenor\": \"24\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 73.67,\n      \"installmentAmount\": 2083.34,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 72.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    }\n  ]\n}","line":18}},{"name":"match response.easyPaymentPlan[0].tenor == '3'","result":{"duration":3231800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"match response.easyPaymentPlan[1].tenor == '6'","result":{"duration":2537600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"match response.easyPaymentPlan[2].tenor == '12'","result":{"duration":2210200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match response.easyPaymentPlan[3].tenor == '24'","result":{"duration":2213400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"print '*********Checked Easy payment plan using AccountId*********'","result":{"duration":2254700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23,"doc_string":{"content_type":"","value":"18:33:04.741 [print] *********Checked Easy payment plan using AccountId*********","line":23}},{"name":"call read('classpath:Citibank\/lop\/RepaymentSchedule.feature')","result":{"duration":768223800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"Citibank\/lop\/RepaymentSchedule.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":12},{"name":"call read('classpath:reusable.feature')","result":{"duration":32531600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":2895900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1223800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":188100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1133400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":162500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":2132700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":178200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":2873100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":151500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":94700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":85800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":76800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":75600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/'+accountId+'\/easyPaymentPlans\/repaymentSchedules?loanAmount=50000&tenor=6'","result":{"duration":3190800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":1358900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":156900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":101300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"method get","result":{"duration":701238100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"18:33:04.791 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/easyPaymentPlans\/repaymentSchedules?loanAmount=50000&tenor=6\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 631287--0-7-838280-7\n\n18:33:05.487 response time in milliseconds: 695.18\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 84a0e45c-85cf-40ec-ab5b-addebd6a099a\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:06 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:06 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 631287--0-7-838280-7\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f241689ea80fcef\n1 < X-Vcap-Request-Id: 3f207c5e-b7d4-4da1-7612-6ed06397c716\n1 < mfaCode: 1AP6pdqoRjGGG2LRbJ4UcXqJ0nqYlu2PxlC5w8I56998WDRBP7U7aeynG81ZPnNjIlXlaND8G7C3rnRtmEgEQPlAs9CTAosJ%2BRb3SV4v0GI%2BIENClPJ%2FAy8Sh%2BML1YJvAr3wyFCXYOetEoJinl5NrfovRsn6%2ByvmAkyOe9A7c16IHx0GmuB8lIALJhcjrbUT0Dps34p14lHH4DoGcJY4RuICiRix5ooMwlB%2FVfSob4Ntnsdh42Tfz50qVO4QJ9LaWY4u8Rz2QyVghCzSRUfNJcksNiS9uHfhPy94t4QdBmtFs7TAF2oah2g0Ds%2FbRFT3MAPHZe9OLYeWrPd2ZUnWNI3%2F7QSG0XDfJzqQc8fG8lBzCUKrt%2FG1VO0p7Ac%2BJdWmCOcNIj4nsS%2FR%2BQoON2d%2Fdi4%2BGjzA7%2B1ZR00aUwhiC1A%3D\n{\"eppAmortizationSchedule\":[{\"installmentNumber\":\"1\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":41666.66,\"installmentDate\":\"07\/2020\"},{\"installmentNumber\":\"2\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":33333.32,\"installmentDate\":\"08\/2020\"},{\"installmentNumber\":\"3\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":24999.98,\"installmentDate\":\"09\/2020\"},{\"installmentNumber\":\"4\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":16666.64,\"installmentDate\":\"10\/2020\"},{\"installmentNumber\":\"5\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":8333.300000000003,\"installmentDate\":\"11\/2020\"},{\"installmentNumber\":\"6\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":-0.040000000000873115,\"installmentDate\":\"12\/2020\"}],\"totalLoanCost\":50000.0}","line":13}},{"name":"status 200","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"print response","result":{"duration":1234600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15,"doc_string":{"content_type":"","value":"18:33:05.492 [print] {\n  \"eppAmortizationSchedule\": [\n    {\n      \"installmentNumber\": \"1\",\n      \"installmentDate\": \"07\/2020\",\n      \"outstandingPrincipalAmount\": 41666.66,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"2\",\n      \"installmentDate\": \"08\/2020\",\n      \"outstandingPrincipalAmount\": 33333.32,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"3\",\n      \"installmentDate\": \"09\/2020\",\n      \"outstandingPrincipalAmount\": 24999.98,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"4\",\n      \"installmentDate\": \"10\/2020\",\n      \"outstandingPrincipalAmount\": 16666.64,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"5\",\n      \"installmentDate\": \"11\/2020\",\n      \"outstandingPrincipalAmount\": 8333.300000000003,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"6\",\n      \"installmentDate\": \"12\/2020\",\n      \"outstandingPrincipalAmount\": -0.040000000000873115,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    }\n  ],\n  \"totalLoanCost\": 50000.0\n}","line":15}},{"name":"match response.eppAmortizationSchedule[0].installmentNumber == '1'","result":{"duration":3644600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"match response.eppAmortizationSchedule[1].installmentNumber == '2'","result":{"duration":3371300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"match response.eppAmortizationSchedule[2].installmentNumber == '3'","result":{"duration":588600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"match response.eppAmortizationSchedule[3].installmentNumber == '4'","result":{"duration":3249300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"match response.eppAmortizationSchedule[4].installmentNumber == '5'","result":{"duration":2593200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"match response.eppAmortizationSchedule[5].installmentNumber == '6'","result":{"duration":371400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"print '*********Checked reschedule payment plan using AccountId And Tenor*********'","result":{"duration":2207300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22,"doc_string":{"content_type":"","value":"18:33:05.509 [print] *********Checked reschedule payment plan using AccountId And Tenor*********","line":22}},{"name":"call read('classpath:Citibank\/lop\/LoanBooking.feature')","result":{"duration":797533400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"Citibank\/lop\/LoanBooking.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":13},{"name":"call read('classpath:reusable.feature')","result":{"duration":24662000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":2134600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":2724900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":156100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":2171300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":144800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1550600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":184900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":3631200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":170200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":99600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":161000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":145000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":87300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":445200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":118900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def loanBookingRequest = read('classpath:Citibank\/lop\/LoanBookingRequest.json')","result":{"duration":5956400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans\/bookings'","result":{"duration":3157600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":1013800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":193000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":99700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header Content-Type = 'application\/json'","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"request loanBookingRequest","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"method post","result":{"duration":745036800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":15,"doc_string":{"content_type":"","value":"18:33:05.556 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\/bookings\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Content-Length: 469\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 67428--13-4066372-1-\n{\"loanAmount\":60000,\"disbursementOption\":\"PERSONAL_ACCOUNT\",\"disbursementAccountId\":\"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\"tenor\":12,\"bankDetails\":{\"bankCode\":\"DBSSG0XXX\",\"bankName\":\"HSBC Bank\",\"branchCode\":\"10034\",\"accountNumber\":\"5396100020088653\"},\"loanPurpose\":\"EDUCATION_OVERSEAS\",\"employmentStatus\":\"PRIVATE_EMPLOYEE\",\"occupationCode\":\"BUSINESS\",\"highestEducationLevel\":\"GRADUATE\",\"paymentReferenceId\":123456}\n\n18:33:06.299 response time in milliseconds: 740.94\n1 < 403\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 980a7d10-b584-4305-9044-e1b74b847b93\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: close\n1 < Content-Length: 253\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:06 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:06 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 67428--13-4066372-1-\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n1 < X-Global-Transaction-ID: 6e68aa425f24168adced922f\n1 < X-Vcap-Request-Id: b35737db-4413-4135-4e9d-19234779b672\n1 < mfaCode: swKYj7GF9chKkN3yzVOKCtqJrLIgrH%2FBeOOms0a2buel9xTjPDqgJE2zObxpmfIZeJeV9xULEUfDH%2BM0igVEIiI7tRdtCdbVlxO5VEL9xTijzcSmSOUvKIIYgn0hjtXyTihkjSW2lGI7bDJAzoB32kqjmbS6RARndxw7QpnGYGjI3wc8TbKu9Cm9e9hi6KGJlQs6UbFWRBA0RdqPMv3mwurqr6x1DmlQjRWaB1WPWf7ULbqkAM8EJxTFNU4a5L9FatWV5b3I%2BcDZqtNXKO6TE2FR0SSsD%2Fv1MjKuDhTbRZE0XartNUsEi3bZWLu5OnTWlqo2XLMgE6GxUzgiR1SrSCD8J6XU%2BLLEhD5T%2FNiUW1xAvECR0OvsLyceeDF231GtMsj%2FChiFddm1%2B84tPtmqiCkuvPIcXmYPU7G41i1YT%2Bw%3D\n{\"type\":\"error\",\"code\":\"mfaRequired\",\"details\":\"MFA is required\",\"moreInfo\":{\"mfaType\":\"otp\",\"controlFlowId\":\"ylAQE6TwKmOAyCfYXvyDoAaSnPbcfOAuSBi3rNyV\",\"status\":\"generated\",\"mfaResponse\":{\"maskedPhoneNumber\":\"XXXXXXXX0056\"},\"otpDeliveryOption\":[\"SMS\"]}}","line":15}},{"name":"status 403","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":16},{"name":"print response","result":{"duration":334700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17,"doc_string":{"content_type":"","value":"18:33:06.300 [print] {\n  \"code\": \"mfaRequired\",\n  \"details\": \"MFA is required\",\n  \"type\": \"error\",\n  \"moreInfo\": {\n    \"controlFlowId\": \"ylAQE6TwKmOAyCfYXvyDoAaSnPbcfOAuSBi3rNyV\",\n    \"mfaType\": \"otp\",\n    \"mfaResponse\": {\n      \"maskedPhoneNumber\": \"XXXXXXXX0056\"\n    },\n    \"otpDeliveryOption\": [\n      \"SMS\"\n    ],\n    \"status\": \"generated\"\n  }\n}","line":17}},{"name":"match response.moreInfo.controlFlowId == '#string'","result":{"duration":414500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"def loanBookingControlFlowId = response.moreInfo.controlFlowId","result":{"duration":3455900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"print loanBookingControlFlowId","result":{"duration":174500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"18:33:06.305 [print] ylAQE6TwKmOAyCfYXvyDoAaSnPbcfOAuSBi3rNyV","line":20}},{"name":"print '********* Loan Booked And Control FlowId Generated *********'","result":{"duration":2122000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21,"doc_string":{"content_type":"","value":"18:33:06.307 [print] ********* Loan Booked And Control FlowId Generated *********","line":21}},{"name":"call read('classpath:Citibank\/lop\/DisbursmentOption.feature')","result":{"duration":752562000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"Citibank\/lop\/DisbursmentOption.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":14},{"name":"call read('classpath:reusable.feature')","result":{"duration":26883600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":1969600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1655100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":863700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":3083600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":307200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":4101500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":1297700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":2405300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":591900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":192000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":102800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":237900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":98600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans\/disbursementOptions'","result":{"duration":3964300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":7},{"name":"header Authorization = access_token","result":{"duration":51900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":8},{"name":"header uuid = randomString(20)","result":{"duration":8105000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":9},{"name":"header Accept = 'application\/json'","result":{"duration":503200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"method get","result":{"duration":695517800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":12,"doc_string":{"content_type":"","value":"18:33:06.358 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\/disbursementOptions\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 513-7587495107877-4-\n\n18:33:07.052 response time in milliseconds: 657.95\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: e150f30c-901f-47b0-a8bb-7e778a427b34\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:07 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:07 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 513-7587495107877-4-\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f24168bbdcea911\n1 < X-Vcap-Request-Id: 84785756-5218-4b0f-7e30-127075c26f3f\n1 < mfaCode: TcNC%2B8LOAyy5ydSr9m67bwEpIn8uD6i4MK97LUcwoBEveX1Lo0ilJFYYQlHlIJdLMNeRyC1MAlkjtKjHGKPjqR4qYM%2BSd7pd%2Bt2WB5k1DO38iRVQ6erkHteTCB4bfPG5ogoPU5E19vnAXMAcgi%2FKv86xqdrmOwh9UfrcVyWVEZMGXBDChFkoN%2B5GMB0F0lrmo2vuXLhJVM0fMvuPpysratPpajh9oUQXtc8m%2FogV%2FcLP3W0ahGAvY75aqJL6TKEp3%2FApanHflVXEtbsuFziEKz0ZYn2gHc55L34TSDUbBEw0wQBVB2raefTps2KxKgO53i267MK%2F4eEhYFmC7qGal6qcziw1Fd7wb30u3n9P9sIrCKc0upXxFPr9yVvYaLviCCsuT2wC%2B%2F1%2FN%2Ffr9Kur%2BzcHeLLc%2FzxvWXXaMwQE7qk%3D\n{\"disbursementOptions\":[{\"disbursementOption\":\"BANK_ACCOUNT\"}]}","line":12}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":13},{"name":"print response","result":{"duration":411800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14,"doc_string":{"content_type":"","value":"18:33:07.053 [print] {\n  \"disbursementOptions\": [\n    {\n      \"disbursementOption\": \"BANK_ACCOUNT\"\n    }\n  ]\n}","line":14}},{"name":"match response.disbursementOptions[0].disbursementOption == 'BANK_ACCOUNT'","result":{"duration":2798700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"print '********* DisbursmentOption Details checked *********'","result":{"duration":3219000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16,"doc_string":{"content_type":"","value":"18:33:07.059 [print] ********* DisbursmentOption Details checked *********","line":16}},{"name":"call read('classpath:Citibank\/lop\/BookedLoanRepayment.feature')","result":{"duration":881389900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"Citibank\/lop\/BookedLoanRepayment.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":15},{"name":"call read('classpath:reusable.feature')","result":{"duration":24662800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":2068900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1994900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":138400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":3437000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":173600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1279700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":276800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":1368200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":360800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":107200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":89600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":75100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":79200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":335600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans\/repaymentSchedules?loanAmount=60000&tenor=12'","result":{"duration":3373000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":1542400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":200900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"method get","result":{"duration":805630100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"18:33:07.111 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\/repaymentSchedules?loanAmount=60000&tenor=12\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 28836427794237716479\n\n18:33:07.913 response time in milliseconds: 800.65\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 33d3ffeb-21ec-4a8c-95c5-5d5c3aadb274\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:08 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:08 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 28836427794237716479\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f24168cea81d04f\n1 < X-Vcap-Request-Id: bf350993-f7f4-4057-6cca-be8ac18cfc2a\n1 < mfaCode: lS934OdvTHDrzm3r7LGFrudpzDKdsPXu%2FdTaQ3SGodbR1hAsRxY4019LG8zdvcN%2BXmmREBJZmkWCIqfiD0w%2FU0rN%2F%2FPiCBg4rF4NqIYPPZ0SjaQJD%2BubpNnRfxl7konfSMLXKQoy1e3owOIE4pXLysL%2B9Y4151S1j8da%2BbbBGVM2M2n%2FsgVlqbwguyJ%2Fzpi%2FLlMvPfS0phL209T9XXSNgk2UW3rjixnHqBGl7wJy0dHWAYLekRNMSy%2BzPY7Kt%2FsPSSBXdBjeyDbwuLWJHn%2FxhgixxM3FXNeMBN3p5gcv9FxKxFKMDiqEOyKAvIH4Ov9eFKqpxC6tHDA09lReYVmbgG31NlAaY7%2BXX8sUPS0UgOq451OihpkLUxUtSIY5%2FdQzEE8t4qLTS58gQ9766AdoGEkPTW%2FBaDDkiMxpV7vgJ9U%3D\n{\"amortizationSchedule\":[{\"installmentNumber\":\"1\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":55000.0},{\"installmentNumber\":\"2\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":50000.0},{\"installmentNumber\":\"3\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":45000.0},{\"installmentNumber\":\"4\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":40000.0},{\"installmentNumber\":\"5\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":35000.0},{\"installmentNumber\":\"6\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":30000.0},{\"installmentNumber\":\"7\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":25000.0},{\"installmentNumber\":\"8\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":20000.0},{\"installmentNumber\":\"9\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":15000.0},{\"installmentNumber\":\"10\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":10000.0},{\"installmentNumber\":\"11\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":5000.0},{\"installmentNumber\":\"12\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":0.0}],\"totalLoanCost\":60000.0}","line":13}},{"name":"status 200","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"print response","result":{"duration":829700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15,"doc_string":{"content_type":"","value":"18:33:07.915 [print] {\n  \"amortizationSchedule\": [\n    {\n      \"installmentNumber\": \"1\",\n      \"outstandingPrincipalAmount\": 55000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"2\",\n      \"outstandingPrincipalAmount\": 50000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"3\",\n      \"outstandingPrincipalAmount\": 45000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"4\",\n      \"outstandingPrincipalAmount\": 40000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"5\",\n      \"outstandingPrincipalAmount\": 35000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"6\",\n      \"outstandingPrincipalAmount\": 30000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"7\",\n      \"outstandingPrincipalAmount\": 25000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"8\",\n      \"outstandingPrincipalAmount\": 20000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"9\",\n      \"outstandingPrincipalAmount\": 15000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"10\",\n      \"outstandingPrincipalAmount\": 10000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"11\",\n      \"outstandingPrincipalAmount\": 5000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"12\",\n      \"outstandingPrincipalAmount\": 0.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    }\n  ],\n  \"totalLoanCost\": 60000.0\n}","line":15}},{"name":"match response.amortizationSchedule[0].installmentNumber == '1'","result":{"duration":552800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"match response.amortizationSchedule[1].installmentNumber == '2'","result":{"duration":352100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"match response.amortizationSchedule[2].installmentNumber == '3'","result":{"duration":419800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"match response.amortizationSchedule[3].installmentNumber == '4'","result":{"duration":349600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"match response.amortizationSchedule[4].installmentNumber == '5'","result":{"duration":382600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"match response.amortizationSchedule[5].installmentNumber == '6'","result":{"duration":469600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"match response.amortizationSchedule[6].installmentNumber == '7'","result":{"duration":2549300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"match response.amortizationSchedule[7].installmentNumber == '8'","result":{"duration":3326300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"match response.amortizationSchedule[8].installmentNumber == '9'","result":{"duration":2534000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match response.amortizationSchedule[9].installmentNumber == '10'","result":{"duration":3349300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"match response.amortizationSchedule[10].installmentNumber == '11'","result":{"duration":3157500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match response.amortizationSchedule[11].installmentNumber == '12'","result":{"duration":2834000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27},{"name":"print '*********Checked repayment Schedule plan for particular customer using AccountId And Tenor*********'","result":{"duration":4025200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28,"doc_string":{"content_type":"","value":"18:33:07.941 [print] *********Checked repayment Schedule plan for particular customer using AccountId And Tenor*********","line":28}},{"name":"call read('classpath:Citibank\/lop\/E2E_Key.feature')","result":{"duration":729554400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"Citibank\/lop\/E2E_Key.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":16},{"name":"call read('classpath:reusable.feature')","result":{"duration":29916300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":2366400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1943800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":193500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":3622500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":173300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":3702300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":698400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":3750700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":2445900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":158300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":191800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":568300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":100300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":70400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/security\/e2eKey'","result":{"duration":33368000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":2469300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":146200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":95100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"method get","result":{"duration":632876500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":13,"doc_string":{"content_type":"","value":"18:33:08.021 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/security\/e2eKey\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: -063535-5-38-575-4-7\n\n18:33:08.652 response time in milliseconds: 629.62\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: f8f3d10b-700b-4fa3-8d91-029f548bd498\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:09 GMT\n1 < Eventid: 1fbba9e7-f441-41e9-9364-ab8c2d7fb219\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:09 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: -063535-5-38-575-4-7\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f24168c9c56834d\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < X-Vcap-Request-Id: 8f26364b-dfba-4d37-5492-4f6a8fc0f235\n1 < responseTimeStamp: 2020-07-31T13:03:09:192\n{\"modulus\":\"25807395448071880783063927664374276788531724019461095264536052917600122265726029248747658160092353325359325129355167225424735918124363962381871059412349578546292866271265015090276541231944169570880649141670888497759814527528143259824041913284350061770978018169766071113460845844085108459469585158391450098526935406938429662137050064537051989490280303654447338274065759645982123006995627973064765906600650983646328270841255201378932565397694376262787081653043786607684608758916500075911562621219363246723608091519909511420957714139087992091519498817912511234942193225900995521911767829887100702768647386501006526024517\",\"exponent\":\"65537\"}","line":13}},{"name":"status 200","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14},{"name":"print response","result":{"duration":416500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15,"doc_string":{"content_type":"","value":"18:33:08.653 [print] {\n  \"modulus\": \"25807395448071880783063927664374276788531724019461095264536052917600122265726029248747658160092353325359325129355167225424735918124363962381871059412349578546292866271265015090276541231944169570880649141670888497759814527528143259824041913284350061770978018169766071113460845844085108459469585158391450098526935406938429662137050064537051989490280303654447338274065759645982123006995627973064765906600650983646328270841255201378932565397694376262787081653043786607684608758916500075911562621219363246723608091519909511420957714139087992091519498817912511234942193225900995521911767829887100702768647386501006526024517\",\n  \"exponent\": \"65537\"\n}","line":15}},{"name":"match response.modulus == '#string'","result":{"duration":422800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"match response.exponent == '#string'","result":{"duration":341400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"print modulus = response.modulus","result":{"duration":8881000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18,"doc_string":{"content_type":"","value":"18:33:08.663 [print] 25807395448071880783063927664374276788531724019461095264536052917600122265726029248747658160092353325359325129355167225424735918124363962381871059412349578546292866271265015090276541231944169570880649141670888497759814527528143259824041913284350061770978018169766071113460845844085108459469585158391450098526935406938429662137050064537051989490280303654447338274065759645982123006995627973064765906600650983646328270841255201378932565397694376262787081653043786607684608758916500075911562621219363246723608091519909511420957714139087992091519498817912511234942193225900995521911767829887100702768647386501006526024517","line":18}},{"name":"print exponent = response.exponent","result":{"duration":4387600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"18:33:08.668 [print] 65537","line":19}},{"name":"print '********* Modulus and Exponent Generated *********'","result":{"duration":2542000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"18:33:08.670 [print] ********* Modulus and Exponent Generated *********","line":20}},{"name":"call read('classpath:Citibank\/lop\/ValidateOTP.feature')","result":{"duration":1338727500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"Citibank\/lop\/ValidateOTP.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":17},{"name":"call read('classpath:reusable.feature')","result":{"duration":68140600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":3837800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":7426500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":459500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":2878800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":690600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1552800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":149100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":2300900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":171400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":234400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":172700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":237900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":367700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":650700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":208200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def otpRequest = read('classpath:Citibank\/lop\/OTPValidationRequest.json')","result":{"duration":6325500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/mfa\/otp'","result":{"duration":2216600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":9},{"name":"header Authorization = access_token","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header uuid = randomString(20)","result":{"duration":1423700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header Accept = 'application\/json'","result":{"duration":174000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":130500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"header Content-Type = 'application\/json'","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"set otpRequest.controlFlowId = loanBookingControlFlowId","result":{"duration":933000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"print otpRequest","result":{"duration":685300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16,"doc_string":{"content_type":"","value":"18:33:08.767 [print] {\n  \"otpDeliveryOption\": \"SMS\",\n  \"otpToken\": \"77219F78B16B130E4894E768F08567F06470F59AAC12722D943276877C30567E8E78462F03F3D2BE5679E1AC109530F1CE7F340DB5DB342AEC0C822777D3C3B3B751A7850FAE738FF8DFCB6C805650FD0FBA90FF8E8F4A16AA1A6DC74C44A39B23512336F02C70C02D5BFCF0FAEA4170F98812B3FA9D21DE8239B300A0FFF259\",\n  \"transactionMemo\": \"ENROLLCARD\",\n  \"controlFlowId\": \"ylAQE6TwKmOAyCfYXvyDoAaSnPbcfOAuSBi3rNyV\"\n}","line":16}},{"name":"request otpRequest","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"method put","result":{"duration":1201520300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":18,"doc_string":{"content_type":"","value":"18:33:08.807 request:\n1 > PUT https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/mfa\/otp\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5-C_GWDtWE03yOupM-nDND2rVGxkXquqHcsvUAuBX8I9Bnks6sz-e13mQs4KKlJkLhC6BVtD5OaVzH8Ke29VK9VeXAoSvKPUsNdad6iKvbLPZu-wbpFlR9oyLfJGigeTiEwL1N5gtBEJUBeVUeH3sf5I9aZgS85719q4RJNQhXiPkwAy6Z6OAfo-ucE47l7HiSAfcyd1Ky4vZzZXjAKza8g\n1 > Connection: Keep-Alive\n1 > Content-Length: 387\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 0--842-7889918-5-67-\n{\"otpDeliveryOption\":\"SMS\",\"otpToken\":\"77219F78B16B130E4894E768F08567F06470F59AAC12722D943276877C30567E8E78462F03F3D2BE5679E1AC109530F1CE7F340DB5DB342AEC0C822777D3C3B3B751A7850FAE738FF8DFCB6C805650FD0FBA90FF8E8F4A16AA1A6DC74C44A39B23512336F02C70C02D5BFCF0FAEA4170F98812B3FA9D21DE8239B300A0FFF259\",\"transactionMemo\":\"ENROLLCARD\",\"controlFlowId\":\"ylAQE6TwKmOAyCfYXvyDoAaSnPbcfOAuSBi3rNyV\"}\n\n18:33:10.002 response time in milliseconds: 1193.52\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 099d3361-111d-4057-ab8b-1654c823820f\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Length: 0\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:10 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:10 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 0--842-7889918-5-67-\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f24168edcee447f\n1 < X-Vcap-Request-Id: ef6f1536-fa1e-4833-511a-d335afea8a40\n1 < mfaCode: oO80ceBug11mqq9EWFcGl9G2h3MsGWNSfxUp8781trrDAnsaRRM1ZM%2BgTFX2jpi4hX9PgvmyBysKXC%2FeQdBFVNc3Gns2cne8gVVO2UjpY5vA5%2FOuJwkRmO85kfJlmVbl7eFv%2B0Zfr77hBMoImFbNzipThgx5W1BDkYHUAJmuBBezswc8vQBfin0WfW0kXJQxnl8kEUdnmqhMijVugb4jHGBnJCdEc94OQrDZefgi%2BBlZ30cSehEf6cg%2B7OfsiZ2bnHmAGYF%2FHr4oC9X17s0v2oOFSjvYQll0r5H3SwbSezR2lVS%2BYnqWbl14yU%2FlIWUlNV5MuSg%2FnJlMKTVLEQY8RELQ0Hp%2FRq4NL3wn2fhY5%2FoYVtsM6ykNzFtCL4sE3xjjE%2Fq5Hirxe8h%2F6jc0hCPi9TvQDSI1Yqke80vo1FOl9XE%3D","line":18}},{"name":"status 200","result":{"duration":982300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":19},{"name":"print '********* Verified OTP *********'","result":{"duration":5360900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"18:33:10.009 [print] ********* Verified OTP *********","line":20}},{"name":"call read('classpath:Citibank\/lop\/LoanBookingConfirmation.feature')","result":{"duration":9845054100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"Citibank\/lop\/LoanBookingConfirmation.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":18},{"name":"call read('classpath:reusable.feature')","result":{"duration":31834300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":6458900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":3320700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":198900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1656200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":153300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1374900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":266300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":3438700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":797200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":309900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":193100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":110000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":98200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":132000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":166700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"call read('classpath:Citibank\/lop\/CardAuthorization.feature')","result":{"duration":865351800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"Citibank\/lop\/CardAuthorization.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":9},{"name":"call read('classpath:reusable.feature')","result":{"duration":55019200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":5},{"name":"def randomString =","result":{"duration":13017800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":14904100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":3258000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1587800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":148700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":7714900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":344700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":3973200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":522900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":178100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":155800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":78400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":60100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def CardAuthRequest = read('classpath:Citibank\/lop\/CardAuthorizationRequest.json')","result":{"duration":11907200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb'","result":{"duration":3368300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":11},{"name":"header Authorization = 'Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez'","result":{"duration":3453600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header Content-Type = 'application\/json'","result":{"duration":118600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"header Accept = 'application\/json'","result":{"duration":97600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"header uuid = randomString(20)","result":{"duration":8747500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":177400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":16},{"name":"request CardAuthRequest","result":{"duration":760700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":753440100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18,"doc_string":{"content_type":"","value":"18:33:10.157 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez\n1 > Connection: Keep-Alive\n1 > Content-Length: 157\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 1187-5-5532763892963\n{\"grant_type\":\"card_authorization\",\"lastFourDigitsCardNumber\":\"8653\",\"citiCardHolderPhoneNumber\":\"6590020056\",\"merchantCustomerReferenceId\":\"CB072000128065\"}\n\n18:33:10.908 response time in milliseconds: 749.20\n1 < 403\n1 < Access-Control-Allow-Headers: ,Content-Type,sid,CCPToken,CFIToken,countryCode,businessCode,channelId,uuid,client_id,environmentId\n1 < Access-Control-Allow-Methods: GET,PUT,POST,DELETE,HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: APIm-Debug-Trans-Id, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-Global-Transaction-ID,sid,SessionId,CCPToken,CFIToken\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: ba8e5469-70d0-4dcc-a4b5-83f77fa371a0\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: close\n1 < Content-Length: 210\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:11 GMT\n1 < Expires: -1\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:11 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 1187-5-5532763892963\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n1 < X-Global-Transaction-ID: 6e68aa425f24168fc29e1f15\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < X-Vcap-Request-Id: 0722632c-c8ee-40b9-5b24-ad530be9696d\n{\"type\":\"error\",\"code\":\"mfaRequired\",\"details\":\"MFA is required\",\"moreInfo\":{\"mfaType\":\"otp\",\"controlFlowId\":\"14581519462457720799254058556938\",\"status\":\"generated\",\"mfaResponse\":{\"otpDeliveryOption\":[\"SMS\"]}}}","line":18}},{"name":"status 403","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"print response","result":{"duration":272200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20,"doc_string":{"content_type":"","value":"18:33:10.909 [print] {\n  \"code\": \"mfaRequired\",\n  \"details\": \"MFA is required\",\n  \"type\": \"error\",\n  \"moreInfo\": {\n    \"controlFlowId\": \"14581519462457720799254058556938\",\n    \"mfaType\": \"otp\",\n    \"mfaResponse\": {\n      \"otpDeliveryOption\": [\n        \"SMS\"\n      ]\n    },\n    \"status\": \"generated\"\n  }\n}","line":20}},{"name":"def ControlflowId1 = response.moreInfo.controlFlowId","result":{"duration":5092300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21},{"name":"match ControlflowId1 == '#present'","result":{"duration":2470200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22},{"name":"print ControlflowId1","result":{"duration":171800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23,"doc_string":{"content_type":"","value":"18:33:10.917 [print] 14581519462457720799254058556938","line":23}},{"name":"print '*********ControlFlowIdGenerated*********'","result":{"duration":1974000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":24,"doc_string":{"content_type":"","value":"18:33:10.920 [print] *********ControlFlowIdGenerated*********","line":24}},{"name":"call read('classpath:Citibank\/lop\/CardAuthorizationAccessToken.feature')","result":{"duration":1586807700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"Citibank\/lop\/CardAuthorizationAccessToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":10},{"name":"call read('classpath:reusable.feature')","result":{"duration":13016400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":5},{"name":"def randomString =","result":{"duration":1422000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":676700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1089700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":95200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":639600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":114000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":896300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":124200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":70000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":56400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"call read('classpath:Citibank\/lop\/CardAuthorization.feature')","result":{"duration":681907100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"Citibank\/lop\/CardAuthorization.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":9},{"name":"call read('classpath:reusable.feature')","result":{"duration":28531000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":5},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>","line":5},{"name":"def randomString =","result":{"duration":1257900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":641300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":16},{"name":"def now =","result":{"duration":83900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":870900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":23},{"name":"def randomUUID =","result":{"duration":118100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":3487800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":30},{"name":"def getDate =","result":{"duration":186400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":1989700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":125400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":74400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":9489500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":507100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":146800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def CardAuthRequest = read('classpath:Citibank\/lop\/CardAuthorizationRequest.json')","result":{"duration":8087900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb'","result":{"duration":147300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> Given","line":11},{"name":"header Authorization = 'Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez'","result":{"duration":163300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> And","line":12},{"name":"header Content-Type = 'application\/json'","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> And","line":13},{"name":"header Accept = 'application\/json'","result":{"duration":287200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> And","line":14},{"name":"header uuid = randomString(20)","result":{"duration":2081900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> And","line":15},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":141800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> And","line":16},{"name":"request CardAuthRequest","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> And","line":17},{"name":"method post","result":{"duration":634965300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> When","line":18,"doc_string":{"content_type":"","value":"18:33:10.994 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/authorize\/sg\/gcb\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez\n1 > Connection: Keep-Alive\n1 > Content-Length: 157\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 607233133864809597-5\n{\"grant_type\":\"card_authorization\",\"lastFourDigitsCardNumber\":\"8653\",\"citiCardHolderPhoneNumber\":\"6590020056\",\"merchantCustomerReferenceId\":\"CB072000128065\"}\n\n18:33:11.619 response time in milliseconds: 622.66\n1 < 403\n1 < Access-Control-Allow-Headers: ,Content-Type,sid,CCPToken,CFIToken,countryCode,businessCode,channelId,uuid,client_id,environmentId\n1 < Access-Control-Allow-Methods: GET,PUT,POST,DELETE,HEAD\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: APIm-Debug-Trans-Id, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-Global-Transaction-ID,sid,SessionId,CCPToken,CFIToken\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: dacd9d98-5c73-4d75-8646-d1872bac2988\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: close\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:12 GMT\n1 < Expires: -1\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:12 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 607233133864809597-5\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n1 < X-Global-Transaction-ID: 98b6a3705f24168fea825e0f\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,58;\n1 < X-Vcap-Request-Id: 7f9d077e-6b32-4a5a-5fd3-0e99d8b06dcf\n{\"type\":\"error\",\"code\":\"mfaRequired\",\"details\":\"MFA is required\",\"moreInfo\":{\"mfaType\":\"otp\",\"controlFlowId\":\"44767305013924703657177611829190\",\"status\":\"generated\",\"mfaResponse\":{\"otpDeliveryOption\":[\"SMS\"]}}}","line":18}},{"name":"status 403","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> Then","line":19},{"name":"print response","result":{"duration":450800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":20,"doc_string":{"content_type":"","value":"18:33:11.620 [print] {\n  \"code\": \"mfaRequired\",\n  \"details\": \"MFA is required\",\n  \"type\": \"error\",\n  \"moreInfo\": {\n    \"controlFlowId\": \"44767305013924703657177611829190\",\n    \"mfaType\": \"otp\",\n    \"mfaResponse\": {\n      \"otpDeliveryOption\": [\n        \"SMS\"\n      ]\n    },\n    \"status\": \"generated\"\n  }\n}","line":20}},{"name":"def ControlflowId1 = response.moreInfo.controlFlowId","result":{"duration":1062100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":21},{"name":"match ControlflowId1 == '#present'","result":{"duration":233400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":22},{"name":"print ControlflowId1","result":{"duration":163200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23,"doc_string":{"content_type":"","value":"18:33:11.621 [print] 44767305013924703657177611829190","line":23}},{"name":"print '*********ControlFlowIdGenerated*********'","result":{"duration":335300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":24,"doc_string":{"content_type":"","value":"18:33:11.622 [print] *********ControlFlowIdGenerated*********","line":24}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/token\/sg\/gcb'","result":{"duration":3044600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":10},{"name":"header Authorization = 'Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez'","result":{"duration":315300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":3062500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header Accept = 'application\/json'","result":{"duration":85300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"header uuid = randomString(20)","result":{"duration":1652500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":113400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"form field grant_type = 'card_authorization'","result":{"duration":2373900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":16},{"name":"form field controlFlowId = ControlflowId1","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"form field linkageConfirmationCode = '987654'","result":{"duration":2200200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":18},{"name":"form field scope = 'lop_booking'","result":{"duration":2011100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":19},{"name":"method post","result":{"duration":853978700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":20,"doc_string":{"content_type":"","value":"18:33:11.640 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/cardAuth\/oauth2\/token\/sg\/gcb\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Basic ZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5Olk4eVAzYk43Z1MzbFEwYUMzd0UwcVkzb0M0Z1Uwa0swc0kxdUk1aEY2d0Y2cUw0a0Ez\n1 > Connection: Keep-Alive\n1 > Content-Length: 125\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 3-29667249692530844-\ngrant_type=card_authorization&controlFlowId=44767305013924703657177611829190&linkageConfirmationCode=987654&scope=lop_booking\n\n18:33:12.491 response time in milliseconds: 850.33\n1 < 200\n1 < Accept: application\/json\n1 < Access-Control-Allow-Methods: POST\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Expose-Headers: APIm-Debug-Trans-Id, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset, X-Global-Transaction-ID\n1 < Akamai-Origin-Hop: 1\n1 < Cache-Control: no-cache, max-age=0\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Cookie: CITI_SITE=gtdc\n1 < Date: Fri, 31 Jul 2020 13:03:13 GMT\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:13 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Akamai-CONFIG-LOG-DETAIL: true\n1 < X-Akamai-True-Client-IP: 49.207.197.157\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-DataStream-Session-Id: 22f17934-5f241690-14905a41\n1 < X-Forwarded-For: 49.207.197.157\n1 < X-Global-Transaction-ID: 98b6a3705f241690ea836abf\n1 < X_AK_SHAPE_AGGREGATOR_IP: FALSE\n1 < cardIdHeader: 44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\n1 < cardReferenceNumberHeader: 37344b5144564669667\n1 < citiUUID: \n1 < client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < client_secret: Y8yP3bN7gS3lQ0aC3wE0qY3oC4gU0kK0sI1uI5hF6wF6qL4kA3\n1 < customerIdHeader: 6f4442616a48476f646576436c2f5a307949365a357465536f726866412f77393263316d387132506c416f3d\n1 < dmz-global-txn-id: 98b6a3705f241690ea836abf\n1 < mfaCode: fww2dG82A7mm3nQXwB9yaZtfAmJg1k1%2BiLlhn646axJRMSJVKVdS6tEGXoaXKAkqPGiBFWD0PJi64jfHZb0NHA%3D%3D\n1 < uuid: 3-29667249692530844-\n{\"token_type\":\"Bearer\",\"access_token\":\"AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\",\"expires_in\":2678400,\"consented_on\":1596200592,\"scope\":\"lop_booking\",\"refresh_token\":\"AAJpU1zcuIlLUDV2FuYzqWvi4T6vhKK0jxPLMfGaVSkgyUuRVQ4jOxSHZdeWVRTRbHigY7TCC27cCO_nMJxdnUjsCd0Woq75oTMV10s2VGLth4TXRm-vXOHPdaKDgJcJIY_qxnb_56iNlzxp7-nalMiNtf4ODBqidTXz69KnUWWxVLsKORbSCrQnDFiyc9ZkVecKcsn7FdQjlycc8M2a_BTGHz9WOUxAtev0Zl4D4pXKrA\",\"refresh_token_expires_in\":2682000,\"cardId\":\"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\"customerId\":\"6f4442616a48476f646576436c2f5a307949365a357465536f726866412f77393263316d387132506c416f3d\",\"cardReferenceNumber\":\"37344b5144564669667\"}","line":20}},{"name":"status 200","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":21},{"name":"print response","result":{"duration":421000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"18:33:12.492 [print] {\n  \"access_token\": \"AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\",\n  \"refresh_token_expires_in\": 2682000,\n  \"refresh_token\": \"AAJpU1zcuIlLUDV2FuYzqWvi4T6vhKK0jxPLMfGaVSkgyUuRVQ4jOxSHZdeWVRTRbHigY7TCC27cCO_nMJxdnUjsCd0Woq75oTMV10s2VGLth4TXRm-vXOHPdaKDgJcJIY_qxnb_56iNlzxp7-nalMiNtf4ODBqidTXz69KnUWWxVLsKORbSCrQnDFiyc9ZkVecKcsn7FdQjlycc8M2a_BTGHz9WOUxAtev0Zl4D4pXKrA\",\n  \"scope\": \"lop_booking\",\n  \"cardId\": \"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\n  \"consented_on\": 1596200592,\n  \"customerId\": \"6f4442616a48476f646576436c2f5a307949365a357465536f726866412f77393263316d387132506c416f3d\",\n  \"cardReferenceNumber\": \"37344b5144564669667\",\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 2678400\n}","line":22}},{"name":"match response.token_type == '#string'","result":{"duration":466100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"match response.access_token == '#string'","result":{"duration":269700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":24},{"name":"def tokenType = response.token_type","result":{"duration":3641200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":25},{"name":"def accessToken = response.access_token","result":{"duration":3629700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26},{"name":"def access_token = tokenType+' '+accessToken","result":{"duration":2768800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":27},{"name":"print access_token","result":{"duration":213000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":28,"doc_string":{"content_type":"","value":"18:33:12.504 [print] Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA","line":28}},{"name":"print '*********AccessTokenGenerated*********'","result":{"duration":2314300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":29,"doc_string":{"content_type":"","value":"18:33:12.506 [print] *********AccessTokenGenerated*********","line":29}},{"name":"call read('classpath:Citibank\/lop\/Loan_Eligibility.feature')","result":{"duration":695238500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"Citibank\/lop\/Loan_Eligibility.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":11},{"name":"call read('classpath:reusable.feature')","result":{"duration":16465900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":1008200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":3609300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":161300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":1580500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":136600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":1092900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":147100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":2045000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":390300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":86800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/eligibility'","result":{"duration":2225700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":10},{"name":"header Authorization = access_token","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header uuid = randomString(20)","result":{"duration":822400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header Accept = 'application\/json'","result":{"duration":137600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":142800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"method get","result":{"duration":641095700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":15,"doc_string":{"content_type":"","value":"18:33:12.536 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/eligibility\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 61-67-8310892324-116\n\n18:33:13.175 response time in milliseconds: 638.62\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 8ccc0586-b958-4a66-9412-731f8999429e\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:13 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:13 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 61-67-8310892324-116\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f241691ea83c07f\n1 < X-Vcap-Request-Id: c297fdbb-6355-4563-4623-2ce48a4db6e8\n1 < mfaCode: 7FBkYaSBLln4v0nM%2FIFwMB0VlgkBw7aDMzxq5lfEBo3tGtpOUP9fdmz95bgglWkKwZU8cdlM9C3TG%2FVSwd%2FzfJDFOCODHtA1ux3VOD8PTNb5iD6kJpT9d1bMsNoCIEtmF0M9len6jW4JWraApVfAj4m%2FUhwbYpEy4uyqp1WegRBTR8v69jtK0KxkCHcJ7bGrjEJZ9Q7aPpR8DbKwIBbeL0drntiNnFhYLEWoJ5qmVGOxzzfB5tXA1xKhXHmi1%2FYjqh86z1CkUtug46QPmMa1p70fWf8eptfB0OzebMvdkb%2F4PC602vtdhljnMFHuLOYRZgotre%2FtDPobCRfGugomiTG6bWB92qo9TD9jjtztD%2Fnn5sUdqoWaIW3nEXtunGIo%2BdGxfjiv2VmC3eT3jA3kDfwlJLF7InHGeP3j4HUf2zs%3D\n{\"loanEligibilityDetails\":[{\"accountId\":\"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\"displayAccountNumber\":\"4765\",\"lopSupportedAccountGroup\":\"CREDIT_CARD\",\"maximumEligibleLoanAmount\":500000.0,\"minimumEligibleLoanAmount\":50000.0,\"offerIndicator\":\"RATE_BASED\",\"interestCalculationMethod\":\"REDUCING_BALANCE_METHOD\",\"lopCategory\":\"LOAN_OVER_PHONE\"}]}","line":15}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":16},{"name":"print response","result":{"duration":613500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":17,"doc_string":{"content_type":"","value":"18:33:13.176 [print] {\n  \"loanEligibilityDetails\": [\n    {\n      \"minimumEligibleLoanAmount\": 50000.0,\n      \"accountId\": \"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\n      \"interestCalculationMethod\": \"REDUCING_BALANCE_METHOD\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"lopSupportedAccountGroup\": \"CREDIT_CARD\",\n      \"displayAccountNumber\": \"4765\",\n      \"lopCategory\": \"LOAN_OVER_PHONE\",\n      \"maximumEligibleLoanAmount\": 500000.0\n    }\n  ]\n}","line":17}},{"name":"match response.loanEligibilityDetails[0].displayAccountNumber == '#string'","result":{"duration":320800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":18},{"name":"match response.loanEligibilityDetails[0].accountId == '#present'","result":{"duration":289500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19},{"name":"match response.loanEligibilityDetails[0].maximumEligibleLoanAmount == 500000","result":{"duration":4219100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20},{"name":"match response.loanEligibilityDetails[0].minimumEligibleLoanAmount == 50000","result":{"duration":3839900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21},{"name":"def displayAccountNumber = response.loanEligibilityDetails[0].displayAccountNumber","result":{"duration":3491200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22},{"name":"def accountId = response.loanEligibilityDetails[0].accountId","result":{"duration":3174800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def maximumEligibleLoanAmount = response.loanEligibilityDetails[0].maximumEligibleLoanAmount","result":{"duration":2991400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":24},{"name":"def minimumEligibleLoanAmount = response.loanEligibilityDetails[0].minimumEligibleLoanAmount","result":{"duration":3730900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":25},{"name":"print displayAccountNumber","result":{"duration":158900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"18:33:13.199 [print] 4765","line":26}},{"name":"print accountId","result":{"duration":78400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":27,"doc_string":{"content_type":"","value":"18:33:13.199 [print] 44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d","line":27}},{"name":"print maximumEligibleLoanAmount","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":28,"doc_string":{"content_type":"","value":"18:33:13.199 [print] 500000.0","line":28}},{"name":"print minimumEligibleLoanAmount","result":{"duration":101500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":29,"doc_string":{"content_type":"","value":"18:33:13.200 [print] 50000.0","line":29}},{"name":"print '********* Checked Loan Eligibility And AccountId Generated *********'","result":{"duration":1973700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30,"doc_string":{"content_type":"","value":"18:33:13.202 [print] ********* Checked Loan Eligibility And AccountId Generated *********","line":30}},{"name":"call read('classpath:Citibank\/lop\/Check_EPP_Plan.feature')","result":{"duration":1227913000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"Citibank\/lop\/Check_EPP_Plan.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":12},{"name":"call read('classpath:reusable.feature')","result":{"duration":12117800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":1095300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":508600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":97000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":643500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":111600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":611400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":115700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":428500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":108200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/'+accountId+'\/transactions\/eligibility\/easyPaymentPlan?eligbleLoanAmount=50000'","result":{"duration":2781300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":11},{"name":"header Authorization = access_token","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header uuid = randomString(20)","result":{"duration":6028000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"header Accept = 'application\/json'","result":{"duration":179100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":120300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"method get","result":{"duration":1188418300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":16,"doc_string":{"content_type":"","value":"18:33:13.232 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/transactions\/eligibility\/easyPaymentPlan?eligbleLoanAmount=50000\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 07-8---45-10-64-5874\n\n18:33:14.418 response time in milliseconds: 1185.33\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: f15ce955-26ea-4acb-930c-46a4c359f319\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:15 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:15 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 07-8---45-10-64-5874\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241692dcefa40f\n1 < X-Vcap-Request-Id: 6bca03e8-2a5b-4025-5d3c-12a915e07318\n1 < mfaCode: 8zAvTmSWeJErUne9lyXYXfAIzv5L5KFSNWyZe042EbDQsQVL3XsuopX3Ivr1e9f%2FUsDOQBX0gV9qS05slZ%2FR051%2BViQVW4oIVor6lQabCVT6%2F5a%2B5vsm7o8jBz9b6JASM%2FXZ%2FEHMZCyXQPlMhDTscI4Vl92%2FC5u0OrMCDy4Bw06MiuK4DgDcgsZiAjEGV%2FbscMuo%2BKip75VGp3D%2FMLgqaojyGCXq1j7XiRpwwbEpfy%2FZunvK7LDSbbxGpgJi6z9Hehz8QhzCBbOlAh4BoosYbaA0uC4xl0s%2FCAfPLsnrG8RVIhuoHNWgpgGD6vAZyAMO569XnvUWnFRhAxWbvMBrnV73b7QagwcoXmwJc1x3qhHD30U3I84HDHivQpF1hiP2SyNuQBika6G9WCsyLBJizgSwU1Nm3uuBLbOwOUpiv%2Fc%3D\n{\"easyPaymentPlan\":[{\"tenor\":\"3\",\"effectiveInterestRate\":12.99,\"annualPercentageRate\":13.67,\"installmentAmount\":16666.67,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"},{\"tenor\":\"6\",\"effectiveInterestRate\":25.99,\"annualPercentageRate\":26.67,\"installmentAmount\":8333.34,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"},{\"tenor\":\"12\",\"effectiveInterestRate\":42.99,\"annualPercentageRate\":43.67,\"installmentAmount\":4166.67,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"},{\"tenor\":\"24\",\"effectiveInterestRate\":72.99,\"annualPercentageRate\":73.67,\"installmentAmount\":2083.34,\"oneTimeProcessingFeeIndicator\":\"FIXED_AMOUNT\",\"oneTimeProcessingFeeAmount\":15.15,\"oneTimeProcessingFeePercentage\":0.75,\"offerIndicator\":\"RATE_BASED\"}]}","line":16}},{"name":"status 200","result":{"duration":492600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":17},{"name":"print response","result":{"duration":592800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":18,"doc_string":{"content_type":"","value":"18:33:14.419 [print] {\n  \"easyPaymentPlan\": [\n    {\n      \"tenor\": \"3\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 13.67,\n      \"installmentAmount\": 16666.67,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 12.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    },\n    {\n      \"tenor\": \"6\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 26.67,\n      \"installmentAmount\": 8333.34,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 25.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    },\n    {\n      \"tenor\": \"12\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 43.67,\n      \"installmentAmount\": 4166.67,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 42.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    },\n    {\n      \"tenor\": \"24\",\n      \"offerIndicator\": \"RATE_BASED\",\n      \"annualPercentageRate\": 73.67,\n      \"installmentAmount\": 2083.34,\n      \"oneTimeProcessingFeePercentage\": 0.75,\n      \"oneTimeProcessingFeeIndicator\": \"FIXED_AMOUNT\",\n      \"effectiveInterestRate\": 72.99,\n      \"oneTimeProcessingFeeAmount\": 15.15\n    }\n  ]\n}","line":18}},{"name":"match response.easyPaymentPlan[0].tenor == '3'","result":{"duration":1959600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19},{"name":"match response.easyPaymentPlan[1].tenor == '6'","result":{"duration":1985900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20},{"name":"match response.easyPaymentPlan[2].tenor == '12'","result":{"duration":1981500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21},{"name":"match response.easyPaymentPlan[3].tenor == '24'","result":{"duration":1642900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22},{"name":"print '*********Checked Easy payment plan using AccountId*********'","result":{"duration":2421400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23,"doc_string":{"content_type":"","value":"18:33:14.430 [print] *********Checked Easy payment plan using AccountId*********","line":23}},{"name":"call read('classpath:Citibank\/lop\/RepaymentSchedule.feature')","result":{"duration":711429100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"Citibank\/lop\/RepaymentSchedule.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":13},{"name":"call read('classpath:reusable.feature')","result":{"duration":13190100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":2372100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":443100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":588400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":876300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":123700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":725900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":177300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":415900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":94100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":120300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/'+accountId+'\/easyPaymentPlans\/repaymentSchedules?loanAmount=50000&tenor=6'","result":{"duration":2543900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":676600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":116800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":113900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"method get","result":{"duration":672089200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":13,"doc_string":{"content_type":"","value":"18:33:14.458 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/creditCards\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/easyPaymentPlans\/repaymentSchedules?loanAmount=50000&tenor=6\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 7704-48-599-1-67-367\n\n18:33:15.128 response time in milliseconds: 668.51\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 22ed5ef5-fcbb-4a4a-b500-a2d57b157172\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:15 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:15 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 7704-48-599-1-67-367\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241693dcf0cf8f\n1 < X-Vcap-Request-Id: 1c8ebffd-88c4-46a7-638a-391a320675b3\n1 < mfaCode: hkXvL2cv0t7vs8esfpkWTNwwt3fQ97HOWhg0fJXBL%2BKxu4sK4rWhIzTRNz9oJG2NV4ybnoYE6XmBPlQmAztaGlHqRYtSbTU6AT%2FsNOaaH0gbq%2BQN4OkeZU%2F58XuXW7cycoAItvcw2O%2ByXuGRbyR8tA9TrlszEOVYBxvZAON4WXG%2BYTQdmPKiTfpUo34d%2B4BVeMUsrsegWLh3JxgdueHtf5sBw3TY94uktrgCfdTExWEJOgviAFHV0SIphbO%2BsUNuCVluzSMV0gy46kNV7P9mqJXwW1wuLWMIOk0rlaBIBJNsDyUw4M3%2BVCHeSRJd9VegezCPzEhehcosunCDLbZbNbkKi4wCWT8AHpiORnpoEdPnVZOGUz8xymOI4JtyTBxqlnLXO8MhKfuVdDg5jd9rleU3GMqNuIGjIb19I8jw3bA%3D\n{\"eppAmortizationSchedule\":[{\"installmentNumber\":\"1\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":41666.66,\"installmentDate\":\"07\/2020\"},{\"installmentNumber\":\"2\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":33333.32,\"installmentDate\":\"08\/2020\"},{\"installmentNumber\":\"3\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":24999.98,\"installmentDate\":\"09\/2020\"},{\"installmentNumber\":\"4\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":16666.64,\"installmentDate\":\"10\/2020\"},{\"installmentNumber\":\"5\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":8333.300000000003,\"installmentDate\":\"11\/2020\"},{\"installmentNumber\":\"6\",\"installmentAmount\":8333.34,\"principalAmount\":8333.34,\"installmentInterestAmount\":\"5\",\"outstandingPrincipalAmount\":-0.040000000000873115,\"installmentDate\":\"12\/2020\"}],\"totalLoanCost\":50000.0}","line":13}},{"name":"status 200","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":14},{"name":"print response","result":{"duration":746100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":15,"doc_string":{"content_type":"","value":"18:33:15.129 [print] {\n  \"eppAmortizationSchedule\": [\n    {\n      \"installmentNumber\": \"1\",\n      \"installmentDate\": \"07\/2020\",\n      \"outstandingPrincipalAmount\": 41666.66,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"2\",\n      \"installmentDate\": \"08\/2020\",\n      \"outstandingPrincipalAmount\": 33333.32,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"3\",\n      \"installmentDate\": \"09\/2020\",\n      \"outstandingPrincipalAmount\": 24999.98,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"4\",\n      \"installmentDate\": \"10\/2020\",\n      \"outstandingPrincipalAmount\": 16666.64,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"5\",\n      \"installmentDate\": \"11\/2020\",\n      \"outstandingPrincipalAmount\": 8333.300000000003,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    },\n    {\n      \"installmentNumber\": \"6\",\n      \"installmentDate\": \"12\/2020\",\n      \"outstandingPrincipalAmount\": -0.040000000000873115,\n      \"installmentAmount\": 8333.34,\n      \"principalAmount\": 8333.34,\n      \"installmentInterestAmount\": \"5\"\n    }\n  ],\n  \"totalLoanCost\": 50000.0\n}","line":15}},{"name":"match response.eppAmortizationSchedule[0].installmentNumber == '1'","result":{"duration":2231700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"match response.eppAmortizationSchedule[1].installmentNumber == '2'","result":{"duration":1771900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":17},{"name":"match response.eppAmortizationSchedule[2].installmentNumber == '3'","result":{"duration":374200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":18},{"name":"match response.eppAmortizationSchedule[3].installmentNumber == '4'","result":{"duration":1893800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19},{"name":"match response.eppAmortizationSchedule[4].installmentNumber == '5'","result":{"duration":1987900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20},{"name":"match response.eppAmortizationSchedule[5].installmentNumber == '6'","result":{"duration":274200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21},{"name":"print '*********Checked reschedule payment plan using AccountId And Tenor*********'","result":{"duration":2021200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"18:33:15.141 [print] *********Checked reschedule payment plan using AccountId And Tenor*********","line":22}},{"name":"call read('classpath:Citibank\/lop\/LoanBooking.feature')","result":{"duration":755704200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"Citibank\/lop\/LoanBooking.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":14},{"name":"call read('classpath:reusable.feature')","result":{"duration":8039300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":839400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":355600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":385800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":310700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":339300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":65000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def loanBookingRequest = read('classpath:Citibank\/lop\/LoanBookingRequest.json')","result":{"duration":3925400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans\/bookings'","result":{"duration":2280900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":806900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":207900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":83700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header Content-Type = 'application\/json'","result":{"duration":66500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"request loanBookingRequest","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"method post","result":{"duration":727062600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":15,"doc_string":{"content_type":"","value":"18:33:15.166 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\/bookings\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Content-Length: 469\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 1-530197008833422-1-\n{\"loanAmount\":60000,\"disbursementOption\":\"PERSONAL_ACCOUNT\",\"disbursementAccountId\":\"44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\",\"tenor\":12,\"bankDetails\":{\"bankCode\":\"DBSSG0XXX\",\"bankName\":\"HSBC Bank\",\"branchCode\":\"10034\",\"accountNumber\":\"5396100020088653\"},\"loanPurpose\":\"EDUCATION_OVERSEAS\",\"employmentStatus\":\"PRIVATE_EMPLOYEE\",\"occupationCode\":\"BUSINESS\",\"highestEducationLevel\":\"GRADUATE\",\"paymentReferenceId\":123456}\n\n18:33:15.890 response time in milliseconds: 723.59\n1 < 403\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 2b9aae55-fd83-4091-87a9-fc40ab283c05\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: close\n1 < Content-Length: 253\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:16 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:16 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 1-530197008833422-1-\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: FAIL FAIL,FAIL FAIL,FAIL FAIL\n1 < X-Global-Transaction-ID: 6e68aa425f241694dcf10ebf\n1 < X-Vcap-Request-Id: 0075e168-16ff-44fe-4392-d750ca082acf\n1 < mfaCode: uwKEslFcqd7jDX7%2FSjU0qO3SizCq8YS5SECoye2%2Ba9pJxzdvPshw60Suw6j6Pu0rkExGupAJcEwVOZLRuga9GMx665P1xgYCYKM3n4FzWmpbKPYTnoCLWGn9nmglXDCfML07Gd%2Bvo0scNaPmDV53Oc2uDEVR1tQeZrswzVaFiaJXij3QZx9TTZtSWhMBe2gNKtJM47Ot0MwzKMBR0qv1hbvEpmnt1JczrR3wfUmTw6l1kTY1ZqQcUTY4vcTplhNLM8Q8URn2IQeAKUgfjAG1bvJeVeWAtqxTLSTs9MSzJy5JgoQ3%2Fho0WEnEw5nJ%2FFDUVupzt4x%2Fgq5fdjJVB5VszPgu0N6z5KrCkNvbFlQvVspfnHX0PZykJ47BsdIlNpsF3ewUjAgRm29%2BLf6mRirOUXoQ3sa20rDxqO%2FJIkZdCd8%3D\n{\"type\":\"error\",\"code\":\"mfaRequired\",\"details\":\"MFA is required\",\"moreInfo\":{\"mfaType\":\"otp\",\"controlFlowId\":\"EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5\",\"status\":\"generated\",\"mfaResponse\":{\"maskedPhoneNumber\":\"XXXXXXXX0056\"},\"otpDeliveryOption\":[\"SMS\"]}}","line":15}},{"name":"status 403","result":{"duration":4200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":16},{"name":"print response","result":{"duration":247800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":17,"doc_string":{"content_type":"","value":"18:33:15.891 [print] {\n  \"code\": \"mfaRequired\",\n  \"details\": \"MFA is required\",\n  \"type\": \"error\",\n  \"moreInfo\": {\n    \"controlFlowId\": \"EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5\",\n    \"mfaType\": \"otp\",\n    \"mfaResponse\": {\n      \"maskedPhoneNumber\": \"XXXXXXXX0056\"\n    },\n    \"otpDeliveryOption\": [\n      \"SMS\"\n    ],\n    \"status\": \"generated\"\n  }\n}","line":17}},{"name":"match response.moreInfo.controlFlowId == '#string'","result":{"duration":314100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":18},{"name":"def loanBookingControlFlowId = response.moreInfo.controlFlowId","result":{"duration":2700200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19},{"name":"print loanBookingControlFlowId","result":{"duration":143600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20,"doc_string":{"content_type":"","value":"18:33:15.894 [print] EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5","line":20}},{"name":"print '********* Loan Booked And Control FlowId Generated *********'","result":{"duration":2027100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21,"doc_string":{"content_type":"","value":"18:33:15.896 [print] ********* Loan Booked And Control FlowId Generated *********","line":21}},{"name":"call read('classpath:Citibank\/lop\/DisbursmentOption.feature')","result":{"duration":1194742200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"Citibank\/lop\/DisbursmentOption.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":15},{"name":"call read('classpath:reusable.feature')","result":{"duration":10945200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":1354900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":408100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":116600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":616800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":119200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":663500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":126800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":523900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":151000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":98500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":118200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":55200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":56100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans\/disbursementOptions'","result":{"duration":2143500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":7},{"name":"header Authorization = access_token","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":8},{"name":"header uuid = randomString(20)","result":{"duration":643200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":9},{"name":"header Accept = 'application\/json'","result":{"duration":89000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":10},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"method get","result":{"duration":1168354300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":12,"doc_string":{"content_type":"","value":"18:33:15.918 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\/disbursementOptions\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: -59099-6294--0547684\n\n18:33:17.085 response time in milliseconds: 1166.08\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: c316fb45-21b8-45c8-aae5-fecc1d4392c5\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Length: 63\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:17 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:17 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: -59099-6294--0547684\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241695c29b0bd5\n1 < X-Vcap-Request-Id: a3205ebc-b379-46be-65fb-48e963d589f7\n1 < mfaCode: WF%2FMaMoo7GdcZ%2B3eZ9iHru%2BqBQ%2BUhZR3L3kRLlX7EKAsYv1RvH4lFQCbDBVJS3FJicxi26MFQGRS4knpsgdvCWJMiVGOwhQvTDZ%2FvHFuc%2BFXeOZktvSPed1CC%2BfKCyqZVfpfCofiUiF4gXIYqvI3stMNv8U7q6Z4Sh%2F4Lpjtw41DyPmvWdsy6nwegnUedNOnbiOFDSrTUMjZkjOHCTU%2Buur9%2Bs1ZP0AMSuKIOATXBybdyK79Z4SEdS9N9OCEuQcxu3SrZl%2BgpCFy50xwCrdmewwbB7OW5foKRxlUBSJBkS8WzSy24bc%2FjyEUEiYLpFdZ0qkfM8wQc9jwIcPzR%2Blwb8%2F83kbQSCUTUB4S7KfpkZU2W0iV2ZsbhxMqNfI3w9TkAhfajsIdHUwqHzUpvEX8sH%2FD5q%2Fa3c6nLNyTWNgNhXo%3D\n{\"disbursementOptions\":[{\"disbursementOption\":\"BANK_ACCOUNT\"}]}","line":12}},{"name":"status 200","result":{"duration":4300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":13},{"name":"print response","result":{"duration":276800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":14,"doc_string":{"content_type":"","value":"18:33:17.086 [print] {\n  \"disbursementOptions\": [\n    {\n      \"disbursementOption\": \"BANK_ACCOUNT\"\n    }\n  ]\n}","line":14}},{"name":"match response.disbursementOptions[0].disbursementOption == 'BANK_ACCOUNT'","result":{"duration":3280800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":15},{"name":"print '********* DisbursmentOption Details checked *********'","result":{"duration":2005500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16,"doc_string":{"content_type":"","value":"18:33:17.091 [print] ********* DisbursmentOption Details checked *********","line":16}},{"name":"call read('classpath:Citibank\/lop\/BookedLoanRepayment.feature')","result":{"duration":680342300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"Citibank\/lop\/BookedLoanRepayment.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":16},{"name":"call read('classpath:reusable.feature')","result":{"duration":12576100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":1150600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":1783300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":489700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":893300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":127700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":652200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":119500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":515000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":107600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":57900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":53800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":219800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":156000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":159700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans\/repaymentSchedules?loanAmount=60000&tenor=12'","result":{"duration":2845900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":371400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":92600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":72200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"method get","result":{"duration":634629300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":13,"doc_string":{"content_type":"","value":"18:33:17.120 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\/repaymentSchedules?loanAmount=60000&tenor=12\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: -363600956062210--11\n\n18:33:17.751 response time in milliseconds: 630.32\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: f5b0d22b-f965-4710-9294-538ee9a0a999\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:18 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:18 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: -363600956062210--11\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f241695ea84020f\n1 < X-Vcap-Request-Id: 19c0bf77-2138-4d9c-77d1-fd93163b66ec\n1 < mfaCode: Td%2BaovFq9HQUFdgwcxyZbqlusYJ7VT2ba5OGEdHgvB8WQpizcCY7AlUJxzcDLPw18mSSf1AQko1K2VMfglI8VpVriuKWt3PznXqAYvyC9YzVURPbYwlEjbR%2BIB3hlyWxslUi%2BXRSfQiVL83iT9dmr5yDMD8U40jdv8eE45f%2BwM2AOI0T9Ot0Spx2awp%2FTxHNmGYwlULbVnhYzrlSnzuyIKqclSOZNqaJgHL%2FaJ4jyye7Wdre62fcqRASXROJ88uUlOB3yN%2BwXRDHb%2FmYHZNH0YbDu%2FVs85vgyWPoOCTnsvwLlVRAcxAR4qgM%2B4mDYz72GkUr5JMHdVFjWPK8TAo4sJ4clZF7LH%2BnSG5%2Fbo7pzUxFg8ut66kLgFj%2F8rP6DbqB4DicC6A8ELt1tcYNa4N9y%2FXJfuaCUyFyf6WFE9YFXLY%3D\n{\"amortizationSchedule\":[{\"installmentNumber\":\"1\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":55000.0},{\"installmentNumber\":\"2\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":50000.0},{\"installmentNumber\":\"3\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":45000.0},{\"installmentNumber\":\"4\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":40000.0},{\"installmentNumber\":\"5\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":35000.0},{\"installmentNumber\":\"6\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":30000.0},{\"installmentNumber\":\"7\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":25000.0},{\"installmentNumber\":\"8\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":20000.0},{\"installmentNumber\":\"9\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":15000.0},{\"installmentNumber\":\"10\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":10000.0},{\"installmentNumber\":\"11\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":5000.0},{\"installmentNumber\":\"12\",\"installmentAmount\":5000.0,\"principalAmount\":5000.0,\"installmentInterestAmount\":5.0,\"outstandingPrincipalAmount\":0.0}],\"totalLoanCost\":60000.0}","line":13}},{"name":"status 200","result":{"duration":6000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":14},{"name":"print response","result":{"duration":617600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":15,"doc_string":{"content_type":"","value":"18:33:17.752 [print] {\n  \"amortizationSchedule\": [\n    {\n      \"installmentNumber\": \"1\",\n      \"outstandingPrincipalAmount\": 55000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"2\",\n      \"outstandingPrincipalAmount\": 50000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"3\",\n      \"outstandingPrincipalAmount\": 45000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"4\",\n      \"outstandingPrincipalAmount\": 40000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"5\",\n      \"outstandingPrincipalAmount\": 35000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"6\",\n      \"outstandingPrincipalAmount\": 30000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"7\",\n      \"outstandingPrincipalAmount\": 25000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"8\",\n      \"outstandingPrincipalAmount\": 20000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"9\",\n      \"outstandingPrincipalAmount\": 15000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"10\",\n      \"outstandingPrincipalAmount\": 10000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"11\",\n      \"outstandingPrincipalAmount\": 5000.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    },\n    {\n      \"installmentNumber\": \"12\",\n      \"outstandingPrincipalAmount\": 0.0,\n      \"installmentAmount\": 5000.0,\n      \"principalAmount\": 5000.0,\n      \"installmentInterestAmount\": 5.0\n    }\n  ],\n  \"totalLoanCost\": 60000.0\n}","line":15}},{"name":"match response.amortizationSchedule[0].installmentNumber == '1'","result":{"duration":470000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"match response.amortizationSchedule[1].installmentNumber == '2'","result":{"duration":340200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":17},{"name":"match response.amortizationSchedule[2].installmentNumber == '3'","result":{"duration":374500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":18},{"name":"match response.amortizationSchedule[3].installmentNumber == '4'","result":{"duration":291100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19},{"name":"match response.amortizationSchedule[4].installmentNumber == '5'","result":{"duration":251500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20},{"name":"match response.amortizationSchedule[5].installmentNumber == '6'","result":{"duration":281900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":21},{"name":"match response.amortizationSchedule[6].installmentNumber == '7'","result":{"duration":2191400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22},{"name":"match response.amortizationSchedule[7].installmentNumber == '8'","result":{"duration":2289100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"match response.amortizationSchedule[8].installmentNumber == '9'","result":{"duration":2251200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":24},{"name":"match response.amortizationSchedule[9].installmentNumber == '10'","result":{"duration":3249900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":25},{"name":"match response.amortizationSchedule[10].installmentNumber == '11'","result":{"duration":2798000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26},{"name":"match response.amortizationSchedule[11].installmentNumber == '12'","result":{"duration":2254700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":27},{"name":"print '*********Checked repayment Schedule plan for particular customer using AccountId And Tenor*********'","result":{"duration":1785000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":28,"doc_string":{"content_type":"","value":"18:33:17.771 [print] *********Checked repayment Schedule plan for particular customer using AccountId And Tenor*********","line":28}},{"name":"call read('classpath:Citibank\/lop\/E2E_Key.feature')","result":{"duration":584775700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"Citibank\/lop\/E2E_Key.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":17},{"name":"call read('classpath:reusable.feature')","result":{"duration":12357100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":756100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":431700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":90300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":452200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":649300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":94700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":422400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":80400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":57800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":82000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/security\/e2eKey'","result":{"duration":1898800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":8},{"name":"header Authorization = access_token","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":9},{"name":"header uuid = randomString(20)","result":{"duration":374900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":10},{"name":"header Accept = 'application\/json'","result":{"duration":79600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":51100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"method get","result":{"duration":552206200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":13,"doc_string":{"content_type":"","value":"18:33:17.795 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/security\/e2eKey\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 594602685044919----5\n\n18:33:18.346 response time in milliseconds: 549.87\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 9d714d87-e777-4438-a10b-15e9d0087f31\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:19 GMT\n1 < Eventid: 54d9d36e-851c-4b06-8796-1d677ddf5565\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:19 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 594602685044919----5\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f2416969c5727fd\n1 < X-RateLimit-Limit: name=rate-limit-1,60;\n1 < X-RateLimit-Remaining: name=rate-limit-1,59;\n1 < X-Vcap-Request-Id: 82bdb18b-4571-49c7-65e5-44eb495baf9c\n1 < responseTimeStamp: 2020-07-31T13:03:18:897\n{\"modulus\":\"25807395448071880783063927664374276788531724019461095264536052917600122265726029248747658160092353325359325129355167225424735918124363962381871059412349578546292866271265015090276541231944169570880649141670888497759814527528143259824041913284350061770978018169766071113460845844085108459469585158391450098526935406938429662137050064537051989490280303654447338274065759645982123006995627973064765906600650983646328270841255201378932565397694376262787081653043786607684608758916500075911562621219363246723608091519909511420957714139087992091519498817912511234942193225900995521911767829887100702768647386501006526024517\",\"exponent\":\"65537\"}","line":13}},{"name":"status 200","result":{"duration":5300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":14},{"name":"print response","result":{"duration":580600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":15,"doc_string":{"content_type":"","value":"18:33:18.346 [print] {\n  \"modulus\": \"25807395448071880783063927664374276788531724019461095264536052917600122265726029248747658160092353325359325129355167225424735918124363962381871059412349578546292866271265015090276541231944169570880649141670888497759814527528143259824041913284350061770978018169766071113460845844085108459469585158391450098526935406938429662137050064537051989490280303654447338274065759645982123006995627973064765906600650983646328270841255201378932565397694376262787081653043786607684608758916500075911562621219363246723608091519909511420957714139087992091519498817912511234942193225900995521911767829887100702768647386501006526024517\",\n  \"exponent\": \"65537\"\n}","line":15}},{"name":"match response.modulus == '#string'","result":{"duration":320600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"match response.exponent == '#string'","result":{"duration":192800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":17},{"name":"print modulus = response.modulus","result":{"duration":4522700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":18,"doc_string":{"content_type":"","value":"18:33:18.352 [print] 25807395448071880783063927664374276788531724019461095264536052917600122265726029248747658160092353325359325129355167225424735918124363962381871059412349578546292866271265015090276541231944169570880649141670888497759814527528143259824041913284350061770978018169766071113460845844085108459469585158391450098526935406938429662137050064537051989490280303654447338274065759645982123006995627973064765906600650983646328270841255201378932565397694376262787081653043786607684608758916500075911562621219363246723608091519909511420957714139087992091519498817912511234942193225900995521911767829887100702768647386501006526024517","line":18}},{"name":"print exponent = response.exponent","result":{"duration":3149600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"18:33:18.355 [print] 65537","line":19}},{"name":"print '********* Modulus and Exponent Generated *********'","result":{"duration":1733400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20,"doc_string":{"content_type":"","value":"18:33:18.357 [print] ********* Modulus and Exponent Generated *********","line":20}},{"name":"call read('classpath:Citibank\/lop\/ValidateOTP.feature')","result":{"duration":840023900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"Citibank\/lop\/ValidateOTP.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":18},{"name":"call read('classpath:reusable.feature')","result":{"duration":9697400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>","line":4},{"name":"def randomString =","result":{"duration":1089200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":381800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":16},{"name":"def now =","result":{"duration":99900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":418000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":23},{"name":"def randomUUID =","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":507600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":30},{"name":"def getDate =","result":{"duration":100300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":358000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":72300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":82900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":73000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">>> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"def otpRequest = read('classpath:Citibank\/lop\/OTPValidationRequest.json')","result":{"duration":3714300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/mfa\/otp'","result":{"duration":1739200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":9},{"name":"header Authorization = access_token","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":10},{"name":"header uuid = randomString(20)","result":{"duration":1307600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"header Accept = 'application\/json'","result":{"duration":167400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":12},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":13},{"name":"header Content-Type = 'application\/json'","result":{"duration":72000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"set otpRequest.controlFlowId = loanBookingControlFlowId","result":{"duration":394600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":15},{"name":"print otpRequest","result":{"duration":331000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16,"doc_string":{"content_type":"","value":"18:33:18.381 [print] {\n  \"otpDeliveryOption\": \"SMS\",\n  \"otpToken\": \"77219F78B16B130E4894E768F08567F06470F59AAC12722D943276877C30567E8E78462F03F3D2BE5679E1AC109530F1CE7F340DB5DB342AEC0C822777D3C3B3B751A7850FAE738FF8DFCB6C805650FD0FBA90FF8E8F4A16AA1A6DC74C44A39B23512336F02C70C02D5BFCF0FAEA4170F98812B3FA9D21DE8239B300A0FFF259\",\n  \"transactionMemo\": \"ENROLLCARD\",\n  \"controlFlowId\": \"EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5\"\n}","line":16}},{"name":"request otpRequest","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method put","result":{"duration":800742300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18,"doc_string":{"content_type":"","value":"18:33:18.383 request:\n1 > PUT https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/mfa\/otp\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Content-Length: 387\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 243--38-625261-70142\n{\"otpDeliveryOption\":\"SMS\",\"otpToken\":\"77219F78B16B130E4894E768F08567F06470F59AAC12722D943276877C30567E8E78462F03F3D2BE5679E1AC109530F1CE7F340DB5DB342AEC0C822777D3C3B3B751A7850FAE738FF8DFCB6C805650FD0FBA90FF8E8F4A16AA1A6DC74C44A39B23512336F02C70C02D5BFCF0FAEA4170F98812B3FA9D21DE8239B300A0FFF259\",\"transactionMemo\":\"ENROLLCARD\",\"controlFlowId\":\"EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5\"}\n\n18:33:19.181 response time in milliseconds: 798.52\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 566b06fd-c3ef-4f75-be92-e954309b2997\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:19 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:19 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 243--38-625261-70142\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 98b6a3705f241697ea86323f\n1 < X-Vcap-Request-Id: 6c6a172d-7adb-4966-7b70-8d379cb27082\n1 < mfaCode: O21dMMWgjy%2F2BYmrUIcbQnGuhCK7x8%2FSRibEerG57v7Z6tojA4PjoZ1NiCbhVfweaOTg2bKpAL15%2FPwk8kaE%2FBRKJrOqTKAV3KYciu44u9VmjonMI79hIg0RRMcFLlGS8IIHu%2FFX02nYlPfN%2Fhy3lILS4%2FB6iPvb7k%2BkFZl7Ka0abiSPBr2sS%2BHbq%2FeDc6y7MQYaEMYzDeNdmX1VoeUwx1l%2BH5AwtvM%2BBjyYuymDdCkeXV3N4UnzYJBEF15ZO0CQJm6CrkaCKzbaT2dQrZVgvyBarFSchTP3i6uTeaYFO0KWM3ww9Hs15rVUpglM5RqvC6M34QXXPZAB8M9IjbHZ3g5B4RSE7ZPa9abrLD4xPTEQad5M6yqO%2FmES%2FsRCvTvvsGOqhKJ0eG5lt1euzjS7DIx2jsI7lvvo1MhBI2eJDo8%3D","line":18}},{"name":"status 200","result":{"duration":4900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"print '********* Verified OTP *********'","result":{"duration":14996800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":20,"doc_string":{"content_type":"","value":"18:33:19.196 [print] ********* Verified OTP *********","line":20}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/bookings\/confirmation'","result":{"duration":4737300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":19},{"name":"header Authorization = access_token","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":20},{"name":"header uuid = randomString(20)","result":{"duration":1053200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"header Accept = 'application\/json'","result":{"duration":273600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":388400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":23},{"name":"header Content-Type = 'application\/json'","result":{"duration":137900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24},{"name":"def loanBookingConfirm = read('classpath:Citibank\/lop\/LoanBookingConfirmation.json')","result":{"duration":4337200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"set loanBookingConfirm.controlFlowId = loanBookingControlFlowId","result":{"duration":366100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"print loanBookingConfirm","result":{"duration":190300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27,"doc_string":{"content_type":"","value":"18:33:19.209 [print] {\n  \"controlFlowId\": \"EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5\"\n}","line":27}},{"name":"request loanBookingConfirm","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"method post","result":{"duration":636182400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":29,"doc_string":{"content_type":"","value":"18:33:19.211 request:\n1 > POST https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/bookings\/confirmation\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Content-Length: 60\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 506-2642222-33507249\n{\"controlFlowId\":\"EBLVAnxBn1sinluC5vsPwO8vmKR3zeeLO6i8Fni5\"}\n\n18:33:19.845 response time in milliseconds: 589.50\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 0b7c5ef1-537d-4718-9720-9d0237a474c3\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Length: 42\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:20 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:20 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 506-2642222-33507249\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:2\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241698dcf1b17f\n1 < X-Vcap-Request-Id: cf39e92c-b1e0-41b1-4449-95ccc7c9ca72\n1 < mfaCode: vv3Mx5CdJpLnP0cL3PLYLvvlQIHTf6fCsZC%2BC4hnLx33a2MEkdCS9yk0D8mKdmlYWsK8qESaIC%2FKtVWjH8yuueeXUIUtFoRXfv343mapboONOL28%2F18or1%2BOtaHSIT6cnqQPAgm836sezHT4sc3xmM%2FZtPoDvmjfZJLtx5%2FoeQWZBKs9ZIw2zuBJJ7mhg6zTtLTXI7DC0nDIexvFlrC%2FTnhL3Cg9gW5zVRbU4I6RnVzX0N32O%2FWTcWa0XwYCue%2Fnd5hF5eI83pDoJC4wXsPVk0wshzenLZZ5ZRVEEWUeV5Z15P1Ceh3ZNyTlf0QmV8rJS688oW2OPqRIJNfQqSEWv7PFmxkVk9B6lv6XlpBndmZoshVnGgYHkI%2Fn0vS7W1KYVv6gxLxqQlAJQFjkguxuG%2FjuGDU3PE6MKEvm0a0PdhI%3D\n{\"loanReferenceId\":\"gmTSclRbg0N1blPl4IxH\"}","line":29}},{"name":"status 200","result":{"duration":5400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":30},{"name":"print response","result":{"duration":305200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":31,"doc_string":{"content_type":"","value":"18:33:19.846 [print] {\n  \"loanReferenceId\": \"gmTSclRbg0N1blPl4IxH\"\n}","line":31}},{"name":"def LoanReferenceId = response.loanReferenceId","result":{"duration":3435100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match response.loanReferenceId == '#present'","result":{"duration":2471500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":33},{"name":"print LoanReferenceId","result":{"duration":110500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34,"doc_string":{"content_type":"","value":"18:33:19.852 [print] gmTSclRbg0N1blPl4IxH","line":34}},{"name":"print '********* LoanReferenceId Generated *********'","result":{"duration":1918100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":35,"doc_string":{"content_type":"","value":"18:33:19.854 [print] ********* LoanReferenceId Generated *********","line":35}},{"name":"call read('classpath:Citibank\/lop\/LOPSummary.feature')","result":{"duration":739975100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19},{"name":"Citibank\/lop\/LOPSummary.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":19},{"name":"call read('classpath:reusable.feature')","result":{"duration":11130600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"reusable.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":4},{"name":"def randomString =","result":{"duration":1951200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6,"doc_string":{"content_type":"","value":"function(s) {\nvar text = \"\";\nvar possible = \"1234-567-890\";\nfor (var i = 0; i < s; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}","line":6}},{"name":"def requestId = randomString(20)","result":{"duration":384000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":16},{"name":"def now =","result":{"duration":114200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":19,"doc_string":{"content_type":"","value":"function(){ return java.lang.System.currentTimeMillis() }","line":19}},{"name":"def currentTime = now()","result":{"duration":650400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def randomUUID =","result":{"duration":106500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":26,"doc_string":{"content_type":"","value":"function(){ return java.util.UUID.randomUUID() + '' }","line":26}},{"name":"def uuid = randomUUID()","result":{"duration":568400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":30},{"name":"def getDate =","result":{"duration":86600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":46,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":46}},{"name":"def SimpleDateFormatDate = getDate()","result":{"duration":357500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":55},{"name":"def jsessionIDSplit =","result":{"duration":71100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":57,"doc_string":{"content_type":"","value":"function(list)\n{\n var session=list.split(\" \", 14);\n return session\n}","line":57}},{"name":"def sleep = function(millis){ java.lang.Thread.sleep(millis) }","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":66},{"name":"def internatiocnalDateFormat =","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":68,"doc_string":{"content_type":"","value":"function() {\n  var SimpleDateFormat = Java.type('java.text.SimpleDateFormat');\n  var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n  var date = new java.util.Date();\n  return sdf.format(date);\n}","line":68}},{"name":"def yesterday =","result":{"duration":54400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":80,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var yesterday = currentDate.setDate(currentDate.getDate() - 1);\n    return sdf.format(yesterday)\n}","line":80}},{"name":"def futureDate =","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":92,"doc_string":{"content_type":"","value":"function() {\n    var currentDate = new Date();\n    var SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\n    var sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    var futureDate = currentDate.setDate(currentDate.getDate() + 1);\n    return sdf.format(futureDate)\n}","line":92}},{"name":"def randomFutureDate =","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":105,"doc_string":{"content_type":"","value":"function() {\nvar today = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar futureDate = new Date();\nvar randomNumber = Math.floor( Math.random()*(7-1))+1\nvar futuredate=futureDate.setDate(today.getDate()+randomNumber)\nif(futureDate.getDay() === 0 || futureDate.getDay() === 6){\n futuredate = futureDate.setDate(futureDate.getDate()+2) }\nreturn sdf.format(futuredate)\n}","line":105}},{"name":"def weekEnd =","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":120,"doc_string":{"content_type":"","value":"function()\n{\nvar weekend = new Date();\nvar SimpleDateFormat = Java.type('java.text.SimpleDateFormat')\nvar sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nvar differnece = 7-weekend.getDay();\nresult = sdf.format(weekend.setDate(weekend.getDate()+differnece))\nreturn result\n}","line":120}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/'+accountId+'\/loans'","result":{"duration":2332700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":9},{"name":"header Authorization = access_token","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":10},{"name":"header uuid = randomString(20)","result":{"duration":373200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"header Accept = 'application\/json'","result":{"duration":77800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":12},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":13},{"name":"method get","result":{"duration":709327000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":14,"doc_string":{"content_type":"","value":"18:33:19.880 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/44125873852316f2b4d4d796c344e38756339654972776f663745446e6d4c32486f455a4165374a476858343d\/loans\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 1415--5-270-7-932--5\n\n18:33:20.585 response time in milliseconds: 701.62\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: ae6d9f0d-203b-4a1e-ac05-c25b5644bb6d\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:21 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:21 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 1415--5-270-7-932--5\n1 < Vary: Accept-Encoding\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:1\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241698dcf2958f\n1 < X-Vcap-Request-Id: 5d517d54-f457-4515-46ff-8ac0b7f49eba\n1 < mfaCode: SY7ZQRiXqCq4A1xRukhT5oxH2DZ69%2BmDiWljoOEFsU6HzSprAiFJ69CiCP%2Bx2frZL57I4h2vDLM4mHKvgKmCwmcIVBRHMr1dLDVK7JOtHblqvPfusUPDyFU8rMw7a0esjeNQ7quKJ2L%2BO5OwHCvhJCXY6HwDWMjwRctLZMYBixxqH4iRgkZFEC%2B%2FppAbPZAsFcXmy7%2FnjXGuQfjvNc1bNAJji2cOOpPwRKgFpnGMWkfJAB5QPJCH%2FQHnjcmd4ZeXsRzWRnvcx4DfIXR9u3cTopYnWJ%2FpDWLsvOCLmPpiCgzAcsG4fbKzfbJpb%2Bv19%2B4mPfFXkbM9sZhlY%2ByiCB8FojxcrbDWcTO3elGr0LOyzRaTc3hw8hZ1zKwb1z5o1KbIevwIxatOsGH53y%2B878jwVPaIW8oqE4VPvmkFhKm48UQ%3D\n{\"loans\":[{\"loanReferenceId\":\"xNLgEEWcsxUiUUU26pSB\",\"displayAccountNumber\":\"5396100020088653\",\"transactionDate\":\"2019-01-01\",\"transactionDescription\":\"Transaction for loan ref id xNLgEEWcsxUiUUU26pSB\",\"installmentAmount\":44.66,\"nextInstallmentAmount\":144.66,\"outstandingBalanceAmount\":100.0,\"tenor\":3,\"outstandingTenor\":2,\"originalLoanAmount\":80000.0,\"annualPercentageRate\":13.67,\"effectiveInterestRate\":12.99,\"processingChargeAmount\":15.15,\"outstandingInterestAmount\":15.56,\"installmentCycle\":4},{\"loanReferenceId\":\"V7e8ygZzCFshjDcrH56w\",\"displayAccountNumber\":\"5396100020088653\",\"transactionDate\":\"2019-01-01\",\"transactionDescription\":\"Transaction for loan ref id V7e8ygZzCFshjDcrH56w\",\"installmentAmount\":44.66,\"nextInstallmentAmount\":144.66,\"outstandingBalanceAmount\":100.0,\"tenor\":6,\"outstandingTenor\":5,\"originalLoanAmount\":80000.0,\"annualPercentageRate\":26.67,\"effectiveInterestRate\":25.99,\"processingChargeAmount\":15.15,\"outstandingInterestAmount\":15.56,\"installmentCycle\":4},{\"loanReferenceId\":\"27ACPd4Z4zLiFudMmYi6\",\"displayAccountNumber\":\"5396100020088653\",\"transactionDate\":\"2019-01-01\",\"transactionDescription\":\"Transaction for loan ref id 27ACPd4Z4zLiFudMmYi6\",\"installmentAmount\":44.66,\"nextInstallmentAmount\":144.66,\"outstandingBalanceAmount\":100.0,\"tenor\":12,\"outstandingTenor\":11,\"originalLoanAmount\":80000.0,\"annualPercentageRate\":43.67,\"effectiveInterestRate\":42.99,\"processingChargeAmount\":15.15,\"outstandingInterestAmount\":15.56,\"installmentCycle\":4},{\"loanReferenceId\":\"bQDi5O2ekT87gPGJFaHg\",\"displayAccountNumber\":\"5396100020088653\",\"transactionDate\":\"2019-01-01\",\"transactionDescription\":\"Transaction for loan ref id bQDi5O2ekT87gPGJFaHg\",\"installmentAmount\":1500.0,\"nextInstallmentAmount\":1600.0,\"outstandingBalanceAmount\":100.0,\"tenor\":24,\"outstandingTenor\":23,\"originalLoanAmount\":80000.0,\"annualPercentageRate\":73.67,\"effectiveInterestRate\":72.99,\"processingChargeAmount\":15.15,\"outstandingInterestAmount\":15.56,\"installmentCycle\":4}]}","line":14}},{"name":"status 200","result":{"duration":7100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":15},{"name":"print response","result":{"duration":997900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16,"doc_string":{"content_type":"","value":"18:33:20.587 [print] {\n  \"loans\": [\n    {\n      \"installmentAmount\": 44.66,\n      \"annualPercentageRate\": 13.67,\n      \"outstandingInterestAmount\": 15.56,\n      \"processingChargeAmount\": 15.15,\n      \"installmentCycle\": 4,\n      \"transactionDescription\": \"Transaction for loan ref id xNLgEEWcsxUiUUU26pSB\",\n      \"outstandingTenor\": 2,\n      \"transactionDate\": \"2019-01-01\",\n      \"originalLoanAmount\": 80000.0,\n      \"tenor\": 3,\n      \"outstandingBalanceAmount\": 100.0,\n      \"displayAccountNumber\": \"5396100020088653\",\n      \"nextInstallmentAmount\": 144.66,\n      \"loanReferenceId\": \"xNLgEEWcsxUiUUU26pSB\",\n      \"effectiveInterestRate\": 12.99\n    },\n    {\n      \"installmentAmount\": 44.66,\n      \"annualPercentageRate\": 26.67,\n      \"outstandingInterestAmount\": 15.56,\n      \"processingChargeAmount\": 15.15,\n      \"installmentCycle\": 4,\n      \"transactionDescription\": \"Transaction for loan ref id V7e8ygZzCFshjDcrH56w\",\n      \"outstandingTenor\": 5,\n      \"transactionDate\": \"2019-01-01\",\n      \"originalLoanAmount\": 80000.0,\n      \"tenor\": 6,\n      \"outstandingBalanceAmount\": 100.0,\n      \"displayAccountNumber\": \"5396100020088653\",\n      \"nextInstallmentAmount\": 144.66,\n      \"loanReferenceId\": \"V7e8ygZzCFshjDcrH56w\",\n      \"effectiveInterestRate\": 25.99\n    },\n    {\n      \"installmentAmount\": 44.66,\n      \"annualPercentageRate\": 43.67,\n      \"outstandingInterestAmount\": 15.56,\n      \"processingChargeAmount\": 15.15,\n      \"installmentCycle\": 4,\n      \"transactionDescription\": \"Transaction for loan ref id 27ACPd4Z4zLiFudMmYi6\",\n      \"outstandingTenor\": 11,\n      \"transactionDate\": \"2019-01-01\",\n      \"originalLoanAmount\": 80000.0,\n      \"tenor\": 12,\n      \"outstandingBalanceAmount\": 100.0,\n      \"displayAccountNumber\": \"5396100020088653\",\n      \"nextInstallmentAmount\": 144.66,\n      \"loanReferenceId\": \"27ACPd4Z4zLiFudMmYi6\",\n      \"effectiveInterestRate\": 42.99\n    },\n    {\n      \"installmentAmount\": 1500.0,\n      \"annualPercentageRate\": 73.67,\n      \"outstandingInterestAmount\": 15.56,\n      \"processingChargeAmount\": 15.15,\n      \"installmentCycle\": 4,\n      \"transactionDescription\": \"Transaction for loan ref id bQDi5O2ekT87gPGJFaHg\",\n      \"outstandingTenor\": 23,\n      \"transactionDate\": \"2019-01-01\",\n      \"originalLoanAmount\": 80000.0,\n      \"tenor\": 24,\n      \"outstandingBalanceAmount\": 100.0,\n      \"displayAccountNumber\": \"5396100020088653\",\n      \"nextInstallmentAmount\": 1600.0,\n      \"loanReferenceId\": \"bQDi5O2ekT87gPGJFaHg\",\n      \"effectiveInterestRate\": 72.99\n    }\n  ]\n}","line":16}},{"name":"match response.loans[0].loanReferenceId == '#present'","result":{"duration":414700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"def SumLoanReferenceId = response.loans[0].loanReferenceId","result":{"duration":3998600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"print SumLoanReferenceId","result":{"duration":182100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"18:33:20.592 [print] xNLgEEWcsxUiUUU26pSB","line":19}},{"name":"print '********* Summary LoanReferenceId Generated *********'","result":{"duration":2089300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20,"doc_string":{"content_type":"","value":"18:33:20.594 [print] ********* Summary LoanReferenceId Generated *********","line":20}},{"name":"url 'https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/'+SumLoanReferenceId+'\/repaymentSchedules'","result":{"duration":3770600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":20},{"name":"header Authorization = access_token","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":21},{"name":"header uuid = randomString(20)","result":{"duration":1054000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":22},{"name":"header Accept = 'application\/json'","result":{"duration":123600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"header client_id = 'f2f08c14-8e53-4b13-862c-bdf182d46df9'","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"method get","result":{"duration":644620800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":25,"doc_string":{"content_type":"","value":"18:33:20.601 request:\n1 > GET https:\/\/sandbox.apihub.citi.com\/gcb\/api\/v1\/accounts\/loans\/xNLgEEWcsxUiUUU26pSB\/repaymentSchedules\n1 > Accept: application\/json\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer AAIkZjJmMDhjMTQtOGU1My00YjEzLTg2MmMtYmRmMTgyZDQ2ZGY5HkD-Vxe1aefl3OpEK6Bj92ZHo8JaPty8w7706YvIKIrP-j6DmInMeRCRJ2pSv1R-ZeUW7wTbfRNtYeJMkhlA_5AGs6J9uxNn7_FnECeGm-mxWR6DxaCL_7lQhdY3gC0W8p2f-D1NacjSSeVDYQ6UjJvct2j-DdkWQAwHpca5X9DuMd0yFdSDfWr8pIJCsg0ZwA9gwwp5YZqR66wcABFBLA\n1 > Connection: Keep-Alive\n1 > Cookie: CITI_SITE=gtdc\n1 > Host: sandbox.apihub.citi.com\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n1 > client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 > uuid: 23607-716734-0460879\n\n18:33:21.244 response time in milliseconds: 642.45\n1 < 200\n1 < Access-Control-Allow-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Allow-Methods: GET,POST,PUT,DELETE\n1 < Access-Control-Allow-Origin: \n1 < Access-Control-Expose-Headers: Accept, Accept-Language, Authorization, businessCode, client_id, content-type, countryCode, ChannelId,partnerIdentifier,PartnerCustomerID,CitiCustomerRefId, uuid, x-ibm-client-id,eventid,bizToken,citiuuid,mfaCode,channelindicator,org,relationshipnumber,terminalid,userid,messageid,versionnbr,nextStartIndex,clientDetails,x-fapi-customer-ip-address,x-fapi-customer-last-logged-time,x-fapi-financial-id,accept-compression,x-fapi-interaction-id,customerReferenceId,x-customer-user-agent,x-jws-signature,x-idempotency-key\n1 < Access-Control-Max-Age: 2147483647\n1 < Cache-Control: no-cache, no-store\n1 < Citiuuid: 6c26e000-f5ba-486e-9be4-ebfb2c5d5c02\n1 < Client_id: f2f08c14-8e53-4b13-862c-bdf182d46df9\n1 < Connection: keep-alive\n1 < Content-Length: 138\n1 < Content-Type: application\/json\n1 < Date: Fri, 31 Jul 2020 13:03:21 GMT\n1 < Expires: -1\n1 < I-Cif: 025056868\n1 < Pragma: no-cache\n1 < Set-Cookie: CITI_SITE=gtdc; expires=Fri, 31-Jul-2020 13:23:21 GMT; path=\/; domain=sandbox.apihub.citi.com; secure; HttpOnly\n1 < Uuid: 23607-716734-0460879\n1 < X-Akamai-CITISITE: GTDC\n1 < X-Application-Context: PSG-SANDBOX:utility,unsecured,stateless,service,pcr,onboard,mutualfund,moneymovementpayee,linkage,insurance,hktv,customer,cardauth,card,banking,account,ids,approuting,override,uat1,sandbox,cloud:0\n1 < X-Backside-Transport: OK OK,OK OK,OK OK\n1 < X-Global-Transaction-ID: 6e68aa425f241699c29e74d5\n1 < X-Vcap-Request-Id: ac9db358-99a3-410d-6122-1ed9936d0321\n1 < mfaCode: CHhkthUYNoQUNRyqeWMnJEBxso2J%2F6Eg6WtlwiNPLTZQUF54DB%2FYh7gCfabFjh%2Fk%2FAEZiFFt72DmNPTzlObhQSB4PVjQUouFBS0rIPzk01b4RBCp0s8xROpHySNm54q1%2Bt4a4b6nEVH5%2FTJ3qyQEPkR01sP1ntlyNY%2Bcs1nP6xnGvn0F3BxViTiXk5Sgl2FBDl0YmhblNnXVIy1zKxUuIJSNbl49LF3hWekq2bpAmV1kYfWVC2M2T8ikYwBOu0XSJgYPneM2XbWTvx6hG7SVsr8GvNxPNK7Nh8OHkZn8LWBjX%2F%2BpDKBsByGjIa0ImE9NC3ooo%2BZV%2BYquYIhTHpJslNqgfChfLMbKTDEKst7qC59xC8EdiHMBS%2BogWp7tz2hVjnZpWNZ2YruiC601g7RXz5DxuvC8Clp6NN0%2B6zicFdc%3D\n{\"amortizationSchedule\":[{\"installmentNumber\":\"1\",\"installmentAmount\":44.66,\"principalAmount\":80000.0,\"installmentInterestAmount\":12.99}]}","line":25}},{"name":"status 200","result":{"duration":4800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":26},{"name":"print response","result":{"duration":380500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27,"doc_string":{"content_type":"","value":"18:33:21.245 [print] {\n  \"amortizationSchedule\": [\n    {\n      \"installmentNumber\": \"1\",\n      \"installmentAmount\": 44.66,\n      \"principalAmount\": 80000.0,\n      \"installmentInterestAmount\": 12.99\n    }\n  ]\n}","line":27}},{"name":"match response.amortizationSchedule[0].installmentNumber == '1'","result":{"duration":2507100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28},{"name":"print '********* Upcomming Payments details Generated *********'","result":{"duration":2752200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29,"doc_string":{"content_type":"","value":"18:33:21.250 [print] ********* Upcomming Payments details Generated *********","line":29}}],"tags":[{"name":"@NextRepayment","line":6}]}],"name":"Citibank\/lop\/Repayment.feature","description":"Repayment","id":"repayment","keyword":"Feature","uri":"Citibank\/lop\/Repayment.feature"}]